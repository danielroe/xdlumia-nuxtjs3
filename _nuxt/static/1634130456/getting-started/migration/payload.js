__NUXT_JSONP__("/getting-started/migration", (function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,_,$,aa,ab,ac,ad,ae,af,ag,ah,ai,aj,ak,al,am,an,ao,ap,aq,ar,as,at,au,av,aw,ax,ay,az,aA,aB,aC,aD,aE,aF,aG,aH,aI,aJ,aK,aL,aM,aN,aO,aP,aQ,aR,aS,aT){return {data:[{page:{key:"content:1.getting-started:5.migration.md",generatedAt:new Date(1634130495752),mtime:new Date(1634130495718),slug:"migration",title:V,position:"000100050000",to:"\u002Fgetting-started\u002Fmigration",draft:J,page:K,language:"en",empty:J,description:aj,excerpt:ak,body:{raw:"# 迁移\n\nNuxt 3 迁移指南。工作正在进行中 🚧\n\n## Nuxt 2 to Nuxt 3\n\n目前，没有 Nuxt 2 到 Nuxt 3 迁移指南，也不推荐使用，因为可能会有更多变化。我们正在努力提供稳定的迁移指南和工具，以使其尽可能顺利。请检查[Bridge](\u002Fgetting-started\u002Fbridge) 以获取替代方案。\n\nNuxt 2 删除了一些功能，一些功能尚未在 Nuxt 3 中实现，还有一些是 Nuxt 3（和 Bridge）中的新功能。\n\n除了 Nuxt Bridge 的要求之外，Nuxt 3 的显着和\u002F或重大更改包括：\n\n::list{type=warning}\n- Vue 应用程序模板被重写\n- Vue 升级为 `3.x`\n- 使用 `\u003CSuspense\u003E` 进行异步数据读取\n- Webpack `5.x` (如果不使用 `vite`)\n- 重新自动获取组件\n- 引入主要组件 [`app.vue`](\u002Fdocs\u002Fdirectory-structure\u002Fapp)\n- 引入新的 [`layouts` 系统](\u002Fdocs\u002Fdirectory-structure\u002Flayouts)\n- [`pages\u002F` 目录](\u002Fdocs\u002Fdirectory-structure\u002Fpages) conventions changed\n::\n\n下面的表是一个整体特征比较:\n\n功能 \u002F 版本         | Nuxt 2  | Nuxt 3   | 需要更改\n--------------------------|---------|----------|------------------\nVue 版本               | 2       | 3        | Yes\n`app.vue`                 | ❌      | ✅        | -\nAssets                    | ✅      | ✅        | No\nComponents                | ✅      | ✅        | No\nLayouts                   | ✅      | ✅        | Yes\nError Pages               | ✅      | 🚧        | Yes\nPages                     | ✅      | ✅        | Yes\nPages: Dynamic Params     | ✅      | ✅        | Yes\nPages: _.vue              | ✅      | ✅        | No\nPlugins                   | ✅      | ✅        | Yes (compatible by default)\nStore                     | ✅      | 🚧        | Yes\nTransitions               | ✅      | 🚧        | ?\nSuspense                  | ❌      | ✅        | -\nOptions API: `asyncData`  | ✅      | 🚧        | ?\nOptions API: `fetch`      | ✅      | 🚧        | ?\n\n### 模块兼容性\n\nAll Nuxt 2 modules should be forward compatible with Nuxt 3 as long as they migrate to bridge or if they are already following guidelines.\n\nAll (upcoming) modules made with `@nuxt\u002Fkit` should be backward compatible with Nuxt 2 projects (even without bridge) as long as they are not depending on a Nuxt 3 \u002F Bridge-only feature.\n\n### 插件兼容性\n\nMost Nuxt 2 plugins should be forward compatible with Nuxt 3 with a magical compat layer we inject.\n\nNuxt 3 plugins are **not** backward compatible with Nuxt 2.\n\n### Vue 兼容性\n\n对于使用组合 composition API or components, it needs exclusive Vue 2 or Vue 3 support.\n\nBy using [vue-demi](https:\u002F\u002Fgithub.com\u002Fvueuse\u002Fvue-demi) they should be compatible with both Nuxt 2 and 3.\n\n## Module Migration\n\nWhen Nuxt 3 users add your module, a compatible module container layer from `@nuxt\u002Fkit` is **automatically injected**, so as long as your code is following the guidelines below, it should continue working as-is.\n\n### Test with `@nuxt\u002Fbridge`\n\nMigrating to `@nuxt\u002Fbridge` is the first and most important step for supporting Nuxt 3.\n\nIf you have a fixture or example in your module, add `@nuxt\u002Fbridge` package to its config (see [example](\u002Fgetting-started\u002Fbridge#update-nuxtconfig))\n\n### Avoid CommonJS syntax\n\nNuxt 3 natively supports TypeScript and ECMAScript Modules.\n\n#### Update the imports\n\n::code-group\n```js [Before]\nconst lib = require('lib')\n```\n```js [After]\nimport lib from 'lib'\n\u002F\u002F or using code-splitting\nconst lib = await import('lib').then(e =\u003E e.default || e)\n```\n::\n\n#### Update the exports\n\n::code-group\n```js [Before]\nmodule.exports = ...\n```\n```js [After]\nexport default ...\n\u002F\u002F or using named export\nexport const hello = ...\n```\n::\n\n#### Avoid using specific CJS syntax\n\nAvoid the usage of `__dirname` and `__filename` as much as possible.\n\n### Ensure plugins default export\n\nIf you inject a Nuxt plugin that does not have `export default` (such as global Vue plugins), ensure you add `export default {}` to the end of it.\n\n::code-group\n```js [Before]\n\u002F\u002F ~\u002Fplugins\u002Fvuelidate.js\nimport Vue from 'vue'\nimport Vuelidate from 'vuelidate'\n\nVue.use(Vuelidate)\n```\n```js [After]\n\u002F\u002F ~\u002Fplugins\u002Fvuelidate.js\nimport Vue from 'vue'\nimport Vuelidate from 'vuelidate'\n\nVue.use(Vuelidate)\n\nexport default {}\n```\n::\n\n### Avoid runtime modules\n\nWith Nuxt 3, Nuxt is now a build-time-only dependency, which means that modules shouldn't attempt to hook into the Nuxt runtime.\n\nYour module needs should work even if it's only added to [`buildModules`](\u002Fdocs\u002Fdirectory-structure\u002Fnuxt.config#buildmodules) (instead of `modules`). For example:\n\n- Avoid updating `process.env` within a Nuxt module and reading by a nuxt plugin; use [`runtimeConfig`](\u002Fdocs\u002Fdirectory-structure\u002Fnuxt.config#publicruntimeconfig) instead.\n- (*) Avoid depending on runtime hooks like `vue-renderer:*` for production\n- (*) Avoid adding `serverMiddleware` by importing them inside module. Instead, add them by referencing a file path so that they are independent of module context\n\n(*) Unless it is for `nuxt dev` purpose only and guarded with `if (nuxt.options.dev) { }`.\n\n### Add module meta\n\nEnsure your module is exporting meta object.\n\n\\[TODO\\]\n\n### Use TypeScript (optional)\n\nWhile it is not essential, most of the Nuxt ecosystem is shifting to use TypeScript, so it is highly recommended to consider migration.\n\n::alert{icon=💡}\nYou can start migration by simply renaming `.js` files, to `.ts`. TypeScript is designed to be progressive!\n::\n\n::alert{icon=💡}\nYou can use TypeScript syntax for Nuxt 2 and 3 modules and plugins without any extra dependencies.\n::\n",ast:{type:"root",children:[{type:b,tag:"prose-h1",props:{class:"d-heading-title",id:V},children:[{type:a,value:V}]},{type:a,value:c},{type:b,tag:i,props:{class:"d-heading-description"},children:[{type:a,value:aj}]},{type:a,value:c},{type:b,tag:al,props:{id:am},children:[{type:b,tag:j,props:{href:"#nuxt-2-to-nuxt-3"},children:[{type:a,value:an}]}]},{type:a,value:c},{type:b,tag:i,props:{},children:[{type:a,value:"目前，没有 Nuxt 2 到 Nuxt 3 迁移指南，也不推荐使用，因为可能会有更多变化。我们正在努力提供稳定的迁移指南和工具，以使其尽可能顺利。请检查"},{type:b,tag:j,props:{href:"\u002Fgetting-started\u002Fbridge"},children:[{type:a,value:"Bridge"}]},{type:a,value:" 以获取替代方案。"}]},{type:a,value:c},{type:b,tag:i,props:{},children:[{type:a,value:"Nuxt 2 删除了一些功能，一些功能尚未在 Nuxt 3 中实现，还有一些是 Nuxt 3（和 Bridge）中的新功能。"}]},{type:a,value:c},{type:b,tag:i,props:{},children:[{type:a,value:"除了 Nuxt Bridge 的要求之外，Nuxt 3 的显着和\u002F或重大更改包括："}]},{type:a,value:c},{type:b,tag:"list",props:{type:"warning"},children:[{type:b,tag:ao,props:{},children:[{type:a,value:c},{type:b,tag:p,props:{},children:[{type:a,value:c},{type:a,value:"Vue 应用程序模板被重写"},{type:a,value:c}]},{type:a,value:c},{type:b,tag:p,props:{},children:[{type:a,value:c},{type:a,value:"Vue 升级为 "},{type:b,tag:g,props:{},children:[{type:a,value:"3.x"}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:p,props:{},children:[{type:a,value:c},{type:a,value:"使用 "},{type:b,tag:g,props:{},children:[{type:a,value:"\u003CSuspense\u003E"}]},{type:a,value:" 进行异步数据读取"},{type:a,value:c}]},{type:a,value:c},{type:b,tag:p,props:{},children:[{type:a,value:c},{type:a,value:"Webpack "},{type:b,tag:g,props:{},children:[{type:a,value:"5.x"}]},{type:a,value:" (如果不使用 "},{type:b,tag:g,props:{},children:[{type:a,value:"vite"}]},{type:a,value:u},{type:a,value:c}]},{type:a,value:c},{type:b,tag:p,props:{},children:[{type:a,value:c},{type:a,value:"重新自动获取组件"},{type:a,value:c}]},{type:a,value:c},{type:b,tag:p,props:{},children:[{type:a,value:c},{type:a,value:"引入主要组件 "},{type:b,tag:j,props:{href:"\u002Fdocs\u002Fdirectory-structure\u002Fapp"},children:[{type:b,tag:g,props:{},children:[{type:a,value:ap}]}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:p,props:{},children:[{type:a,value:c},{type:a,value:"引入新的 "},{type:b,tag:j,props:{href:"\u002Fdocs\u002Fdirectory-structure\u002Flayouts"},children:[{type:b,tag:g,props:{},children:[{type:a,value:"layouts"}]},{type:a,value:" 系统"}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:p,props:{},children:[{type:a,value:c},{type:b,tag:j,props:{href:"\u002Fdocs\u002Fdirectory-structure\u002Fpages"},children:[{type:b,tag:g,props:{},children:[{type:a,value:"pages\u002F"}]},{type:a,value:" 目录"}]},{type:a,value:" conventions changed"},{type:a,value:c}]},{type:a,value:c}]}]},{type:a,value:c},{type:b,tag:i,props:{},children:[{type:a,value:"下面的表是一个整体特征比较:"}]},{type:a,value:c},{type:b,tag:"prose-table",props:{},children:[{type:a,value:c},{type:b,tag:"prose-thead",props:{},children:[{type:a,value:c},{type:b,tag:o,props:{},children:[{type:a,value:c},{type:b,tag:L,props:{},children:[{type:a,value:"功能 \u002F 版本"}]},{type:a,value:c},{type:b,tag:L,props:{},children:[{type:a,value:"Nuxt 2"}]},{type:a,value:c},{type:b,tag:L,props:{},children:[{type:a,value:"Nuxt 3"}]},{type:a,value:c},{type:b,tag:L,props:{},children:[{type:a,value:"需要更改"}]},{type:a,value:c}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:"prose-tbody",props:{},children:[{type:a,value:c},{type:b,tag:o,props:{},children:[{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"Vue 版本"}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"2"}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"3"}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:w}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:o,props:{},children:[{type:a,value:c},{type:b,tag:f,props:{},children:[{type:b,tag:g,props:{},children:[{type:a,value:ap}]}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:aq}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:k}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:ar}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:o,props:{},children:[{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"Assets"}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:k}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:k}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:W}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:o,props:{},children:[{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"Components"}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:k}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:k}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:W}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:o,props:{},children:[{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"Layouts"}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:k}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:k}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:w}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:o,props:{},children:[{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"Error Pages"}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:k}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:F}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:w}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:o,props:{},children:[{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"Pages"}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:k}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:k}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:w}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:o,props:{},children:[{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"Pages: Dynamic Params"}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:k}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:k}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:w}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:o,props:{},children:[{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"Pages: _.vue"}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:k}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:k}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:W}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:o,props:{},children:[{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"Plugins"}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:k}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:k}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"Yes (compatible by default)"}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:o,props:{},children:[{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"Store"}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:k}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:F}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:w}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:o,props:{},children:[{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"Transitions"}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:k}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:F}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:X}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:o,props:{},children:[{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"Suspense"}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:aq}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:k}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:ar}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:o,props:{},children:[{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:as},{type:b,tag:g,props:{},children:[{type:a,value:"asyncData"}]}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:k}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:F}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:X}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:o,props:{},children:[{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:as},{type:b,tag:g,props:{},children:[{type:a,value:"fetch"}]}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:k}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:F}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:X}]},{type:a,value:c}]},{type:a,value:c}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:q,props:{id:M},children:[{type:b,tag:j,props:{href:"#%E6%A8%A1%E5%9D%97%E5%85%BC%E5%AE%B9%E6%80%A7"},children:[{type:a,value:M}]}]},{type:a,value:c},{type:b,tag:i,props:{},children:[{type:a,value:"All Nuxt 2 modules should be forward compatible with Nuxt 3 as long as they migrate to bridge or if they are already following guidelines."}]},{type:a,value:c},{type:b,tag:i,props:{},children:[{type:a,value:"All (upcoming) modules made with "},{type:b,tag:g,props:{},children:[{type:a,value:at}]},{type:a,value:" should be backward compatible with Nuxt 2 projects (even without bridge) as long as they are not depending on a Nuxt 3 \u002F Bridge-only feature."}]},{type:a,value:c},{type:b,tag:q,props:{id:N},children:[{type:b,tag:j,props:{href:"#%E6%8F%92%E4%BB%B6%E5%85%BC%E5%AE%B9%E6%80%A7"},children:[{type:a,value:N}]}]},{type:a,value:c},{type:b,tag:i,props:{},children:[{type:a,value:"Most Nuxt 2 plugins should be forward compatible with Nuxt 3 with a magical compat layer we inject."}]},{type:a,value:c},{type:b,tag:i,props:{},children:[{type:a,value:"Nuxt 3 plugins are "},{type:b,tag:au,props:{},children:[{type:a,value:"not"}]},{type:a,value:" backward compatible with Nuxt 2."}]},{type:a,value:c},{type:b,tag:q,props:{id:av},children:[{type:b,tag:j,props:{href:"#vue-%E5%85%BC%E5%AE%B9%E6%80%A7"},children:[{type:a,value:aw}]}]},{type:a,value:c},{type:b,tag:i,props:{},children:[{type:a,value:"对于使用组合 composition API or components, it needs exclusive Vue 2 or Vue 3 support."}]},{type:a,value:c},{type:b,tag:i,props:{},children:[{type:a,value:"By using "},{type:b,tag:j,props:{href:"https:\u002F\u002Fgithub.com\u002Fvueuse\u002Fvue-demi",rel:["nofollow","noopener","noreferrer"],target:"_blank"},children:[{type:a,value:"vue-demi"}]},{type:a,value:" they should be compatible with both Nuxt 2 and 3."}]},{type:a,value:c},{type:b,tag:al,props:{id:ax},children:[{type:b,tag:j,props:{href:"#module-migration"},children:[{type:a,value:ay}]}]},{type:a,value:c},{type:b,tag:i,props:{},children:[{type:a,value:"When Nuxt 3 users add your module, a compatible module container layer from "},{type:b,tag:g,props:{},children:[{type:a,value:at}]},{type:a,value:" is "},{type:b,tag:au,props:{},children:[{type:a,value:"automatically injected"}]},{type:a,value:", so as long as your code is following the guidelines below, it should continue working as-is."}]},{type:a,value:c},{type:b,tag:q,props:{id:az},children:[{type:b,tag:j,props:{href:"#test-with-nuxtbridge"},children:[{type:a,value:"Test with "},{type:b,tag:g,props:{},children:[{type:a,value:Y}]}]}]},{type:a,value:c},{type:b,tag:i,props:{},children:[{type:a,value:"Migrating to "},{type:b,tag:g,props:{},children:[{type:a,value:Y}]},{type:a,value:" is the first and most important step for supporting Nuxt 3."}]},{type:a,value:c},{type:b,tag:i,props:{},children:[{type:a,value:"If you have a fixture or example in your module, add "},{type:b,tag:g,props:{},children:[{type:a,value:Y}]},{type:a,value:" package to its config (see "},{type:b,tag:j,props:{href:"\u002Fgetting-started\u002Fbridge#update-nuxtconfig"},children:[{type:a,value:"example"}]},{type:a,value:u}]},{type:a,value:c},{type:b,tag:q,props:{id:aA},children:[{type:b,tag:j,props:{href:"#avoid-commonjs-syntax"},children:[{type:a,value:aB}]}]},{type:a,value:c},{type:b,tag:i,props:{},children:[{type:a,value:"Nuxt 3 natively supports TypeScript and ECMAScript Modules."}]},{type:a,value:c},{type:b,tag:Z,props:{id:"update-the-imports"},children:[{type:b,tag:j,props:{href:"#update-the-imports"},children:[{type:a,value:"Update the imports"}]}]},{type:a,value:c},{type:b,tag:_,props:{},children:[{type:b,tag:x,props:{},children:[{type:b,tag:d,props:{className:[y]},children:[{type:a,value:$}]},{type:b,tag:z,props:{className:[A,B]},children:[{type:b,tag:C,props:{},children:[{type:b,tag:d,props:{className:[e,l]},children:[{type:a,value:aa}]},{type:a,value:aC},{type:b,tag:d,props:{className:[e,r]},children:[{type:a,value:O}]},{type:a,value:h},{type:b,tag:d,props:{className:[e,P]},children:[{type:a,value:"require"}]},{type:b,tag:d,props:{className:[e,n]},children:[{type:a,value:G}]},{type:b,tag:d,props:{className:[e,v]},children:[{type:a,value:ab}]},{type:b,tag:d,props:{className:[e,n]},children:[{type:a,value:u}]},{type:a,value:c}]}]}]},{type:b,tag:x,props:{},children:[{type:b,tag:d,props:{className:[y]},children:[{type:a,value:ac}]},{type:b,tag:z,props:{className:[A,B]},children:[{type:b,tag:C,props:{},children:[{type:b,tag:d,props:{className:[e,l,m]},children:[{type:a,value:D}]},{type:a,value:h},{type:b,tag:d,props:{className:[e,H]},children:[{type:a,value:"lib"}]},{type:a,value:h},{type:b,tag:d,props:{className:[e,l,m]},children:[{type:a,value:I}]},{type:a,value:h},{type:b,tag:d,props:{className:[e,v]},children:[{type:a,value:ab}]},{type:a,value:c},{type:b,tag:d,props:{className:[e,Q]},children:[{type:a,value:"\u002F\u002F or using code-splitting"}]},{type:a,value:c},{type:b,tag:d,props:{className:[e,l]},children:[{type:a,value:aa}]},{type:a,value:aC},{type:b,tag:d,props:{className:[e,r]},children:[{type:a,value:O}]},{type:a,value:h},{type:b,tag:d,props:{className:[e,l,"control-flow"]},children:[{type:a,value:"await"}]},{type:a,value:h},{type:b,tag:d,props:{className:[e,l,m]},children:[{type:a,value:D}]},{type:b,tag:d,props:{className:[e,n]},children:[{type:a,value:G}]},{type:b,tag:d,props:{className:[e,v]},children:[{type:a,value:ab}]},{type:b,tag:d,props:{className:[e,n]},children:[{type:a,value:u}]},{type:b,tag:d,props:{className:[e,n]},children:[{type:a,value:E}]},{type:b,tag:d,props:{className:[e,ad,P,R]},children:[{type:a,value:"then"}]},{type:b,tag:d,props:{className:[e,n]},children:[{type:a,value:G}]},{type:b,tag:d,props:{className:[e,"parameter"]},children:[{type:a,value:"e"}]},{type:a,value:h},{type:b,tag:d,props:{className:[e,"arrow",r]},children:[{type:a,value:"=\u003E"}]},{type:a,value:aD},{type:b,tag:d,props:{className:[e,n]},children:[{type:a,value:E}]},{type:b,tag:d,props:{className:[e,l,m]},children:[{type:a,value:ae}]},{type:a,value:h},{type:b,tag:d,props:{className:[e,r]},children:[{type:a,value:"||"}]},{type:a,value:aD},{type:b,tag:d,props:{className:[e,n]},children:[{type:a,value:u}]},{type:a,value:c}]}]}]}]},{type:a,value:c},{type:b,tag:Z,props:{id:"update-the-exports"},children:[{type:b,tag:j,props:{href:"#update-the-exports"},children:[{type:a,value:"Update the exports"}]}]},{type:a,value:c},{type:b,tag:_,props:{},children:[{type:b,tag:x,props:{},children:[{type:b,tag:d,props:{className:[y]},children:[{type:a,value:$}]},{type:b,tag:z,props:{className:[A,B]},children:[{type:b,tag:C,props:{},children:[{type:a,value:m},{type:b,tag:d,props:{className:[e,n]},children:[{type:a,value:E}]},{type:b,tag:d,props:{className:[e,R]},children:[{type:a,value:"exports"}]},{type:a,value:h},{type:b,tag:d,props:{className:[e,r]},children:[{type:a,value:O}]},{type:a,value:h},{type:b,tag:d,props:{className:[e,af,r]},children:[{type:a,value:ag}]},{type:a,value:c}]}]}]},{type:b,tag:x,props:{},children:[{type:b,tag:d,props:{className:[y]},children:[{type:a,value:ac}]},{type:b,tag:z,props:{className:[A,B]},children:[{type:b,tag:C,props:{},children:[{type:b,tag:d,props:{className:[e,l,m]},children:[{type:a,value:ah}]},{type:a,value:h},{type:b,tag:d,props:{className:[e,l,m]},children:[{type:a,value:ae}]},{type:a,value:h},{type:b,tag:d,props:{className:[e,af,r]},children:[{type:a,value:ag}]},{type:a,value:c},{type:b,tag:d,props:{className:[e,Q]},children:[{type:a,value:"\u002F\u002F or using named export"}]},{type:a,value:c},{type:b,tag:d,props:{className:[e,l,m]},children:[{type:a,value:ah}]},{type:a,value:h},{type:b,tag:d,props:{className:[e,l]},children:[{type:a,value:aa}]},{type:a,value:" hello "},{type:b,tag:d,props:{className:[e,r]},children:[{type:a,value:O}]},{type:a,value:h},{type:b,tag:d,props:{className:[e,af,r]},children:[{type:a,value:ag}]},{type:a,value:c}]}]}]}]},{type:a,value:c},{type:b,tag:Z,props:{id:"avoid-using-specific-cjs-syntax"},children:[{type:b,tag:j,props:{href:"#avoid-using-specific-cjs-syntax"},children:[{type:a,value:"Avoid using specific CJS syntax"}]}]},{type:a,value:c},{type:b,tag:i,props:{},children:[{type:a,value:"Avoid the usage of "},{type:b,tag:g,props:{},children:[{type:a,value:"__dirname"}]},{type:a,value:" and "},{type:b,tag:g,props:{},children:[{type:a,value:"__filename"}]},{type:a,value:" as much as possible."}]},{type:a,value:c},{type:b,tag:q,props:{id:aE},children:[{type:b,tag:j,props:{href:"#ensure-plugins-default-export"},children:[{type:a,value:aF}]}]},{type:a,value:c},{type:b,tag:i,props:{},children:[{type:a,value:"If you inject a Nuxt plugin that does not have "},{type:b,tag:g,props:{},children:[{type:a,value:"export default"}]},{type:a,value:" (such as global Vue plugins), ensure you add "},{type:b,tag:g,props:{},children:[{type:a,value:"export default {}"}]},{type:a,value:" to the end of it."}]},{type:a,value:c},{type:b,tag:_,props:{},children:[{type:b,tag:x,props:{},children:[{type:b,tag:d,props:{className:[y]},children:[{type:a,value:$}]},{type:b,tag:z,props:{className:[A,B]},children:[{type:b,tag:C,props:{},children:[{type:b,tag:d,props:{className:[e,Q]},children:[{type:a,value:aG}]},{type:a,value:c},{type:b,tag:d,props:{className:[e,l,m]},children:[{type:a,value:D}]},{type:a,value:h},{type:b,tag:d,props:{className:[e,H]},children:[{type:b,tag:d,props:{className:[e,t]},children:[{type:a,value:S}]}]},{type:a,value:h},{type:b,tag:d,props:{className:[e,l,m]},children:[{type:a,value:I}]},{type:a,value:h},{type:b,tag:d,props:{className:[e,v]},children:[{type:a,value:aH}]},{type:a,value:c},{type:b,tag:d,props:{className:[e,l,m]},children:[{type:a,value:D}]},{type:a,value:h},{type:b,tag:d,props:{className:[e,H]},children:[{type:b,tag:d,props:{className:[e,t]},children:[{type:a,value:T}]}]},{type:a,value:h},{type:b,tag:d,props:{className:[e,l,m]},children:[{type:a,value:I}]},{type:a,value:h},{type:b,tag:d,props:{className:[e,v]},children:[{type:a,value:aI}]},{type:a,value:ai},{type:b,tag:d,props:{className:[e,t]},children:[{type:a,value:S}]},{type:b,tag:d,props:{className:[e,n]},children:[{type:a,value:E}]},{type:b,tag:d,props:{className:[e,ad,P,R]},children:[{type:a,value:aJ}]},{type:b,tag:d,props:{className:[e,n]},children:[{type:a,value:G}]},{type:b,tag:d,props:{className:[e,t]},children:[{type:a,value:T}]},{type:b,tag:d,props:{className:[e,n]},children:[{type:a,value:u}]},{type:a,value:c}]}]}]},{type:b,tag:x,props:{},children:[{type:b,tag:d,props:{className:[y]},children:[{type:a,value:ac}]},{type:b,tag:z,props:{className:[A,B]},children:[{type:b,tag:C,props:{},children:[{type:b,tag:d,props:{className:[e,Q]},children:[{type:a,value:aG}]},{type:a,value:c},{type:b,tag:d,props:{className:[e,l,m]},children:[{type:a,value:D}]},{type:a,value:h},{type:b,tag:d,props:{className:[e,H]},children:[{type:b,tag:d,props:{className:[e,t]},children:[{type:a,value:S}]}]},{type:a,value:h},{type:b,tag:d,props:{className:[e,l,m]},children:[{type:a,value:I}]},{type:a,value:h},{type:b,tag:d,props:{className:[e,v]},children:[{type:a,value:aH}]},{type:a,value:c},{type:b,tag:d,props:{className:[e,l,m]},children:[{type:a,value:D}]},{type:a,value:h},{type:b,tag:d,props:{className:[e,H]},children:[{type:b,tag:d,props:{className:[e,t]},children:[{type:a,value:T}]}]},{type:a,value:h},{type:b,tag:d,props:{className:[e,l,m]},children:[{type:a,value:I}]},{type:a,value:h},{type:b,tag:d,props:{className:[e,v]},children:[{type:a,value:aI}]},{type:a,value:ai},{type:b,tag:d,props:{className:[e,t]},children:[{type:a,value:S}]},{type:b,tag:d,props:{className:[e,n]},children:[{type:a,value:E}]},{type:b,tag:d,props:{className:[e,ad,P,R]},children:[{type:a,value:aJ}]},{type:b,tag:d,props:{className:[e,n]},children:[{type:a,value:G}]},{type:b,tag:d,props:{className:[e,t]},children:[{type:a,value:T}]},{type:b,tag:d,props:{className:[e,n]},children:[{type:a,value:u}]},{type:a,value:ai},{type:b,tag:d,props:{className:[e,l,m]},children:[{type:a,value:ah}]},{type:a,value:h},{type:b,tag:d,props:{className:[e,l,m]},children:[{type:a,value:ae}]},{type:a,value:h},{type:b,tag:d,props:{className:[e,n]},children:[{type:a,value:"{"}]},{type:b,tag:d,props:{className:[e,n]},children:[{type:a,value:"}"}]},{type:a,value:c}]}]}]}]},{type:a,value:c},{type:b,tag:q,props:{id:aK},children:[{type:b,tag:j,props:{href:"#avoid-runtime-modules"},children:[{type:a,value:aL}]}]},{type:a,value:c},{type:b,tag:i,props:{},children:[{type:a,value:"With Nuxt 3, Nuxt is now a build-time-only dependency, which means that modules shouldn't attempt to hook into the Nuxt runtime."}]},{type:a,value:c},{type:b,tag:i,props:{},children:[{type:a,value:"Your module needs should work even if it's only added to "},{type:b,tag:j,props:{href:"\u002Fdocs\u002Fdirectory-structure\u002Fnuxt.config#buildmodules"},children:[{type:b,tag:g,props:{},children:[{type:a,value:"buildModules"}]}]},{type:a,value:" (instead of "},{type:b,tag:g,props:{},children:[{type:a,value:"modules"}]},{type:a,value:"). For example:"}]},{type:a,value:c},{type:b,tag:ao,props:{},children:[{type:a,value:c},{type:b,tag:p,props:{},children:[{type:a,value:c},{type:a,value:"Avoid updating "},{type:b,tag:g,props:{},children:[{type:a,value:"process.env"}]},{type:a,value:" within a Nuxt module and reading by a nuxt plugin; use "},{type:b,tag:j,props:{href:"\u002Fdocs\u002Fdirectory-structure\u002Fnuxt.config#publicruntimeconfig"},children:[{type:b,tag:g,props:{},children:[{type:a,value:"runtimeConfig"}]}]},{type:a,value:" instead."},{type:a,value:c}]},{type:a,value:c},{type:b,tag:p,props:{},children:[{type:a,value:c},{type:a,value:"(*) Avoid depending on runtime hooks like "},{type:b,tag:g,props:{},children:[{type:a,value:"vue-renderer:*"}]},{type:a,value:" for production"},{type:a,value:c}]},{type:a,value:c},{type:b,tag:p,props:{},children:[{type:a,value:c},{type:a,value:"(*) Avoid adding "},{type:b,tag:g,props:{},children:[{type:a,value:"serverMiddleware"}]},{type:a,value:" by importing them inside module. Instead, add them by referencing a file path so that they are independent of module context"},{type:a,value:c}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:i,props:{},children:[{type:a,value:"(*) Unless it is for "},{type:b,tag:g,props:{},children:[{type:a,value:"nuxt dev"}]},{type:a,value:" purpose only and guarded with "},{type:b,tag:g,props:{},children:[{type:a,value:"if (nuxt.options.dev) { }"}]},{type:a,value:E}]},{type:a,value:c},{type:b,tag:q,props:{id:aM},children:[{type:b,tag:j,props:{href:"#add-module-meta"},children:[{type:a,value:aN}]}]},{type:a,value:c},{type:b,tag:i,props:{},children:[{type:a,value:"Ensure your module is exporting meta object."}]},{type:a,value:c},{type:b,tag:i,props:{},children:[{type:a,value:"[TODO]"}]},{type:a,value:c},{type:b,tag:q,props:{id:aO},children:[{type:b,tag:j,props:{href:"#use-typescript-optional"},children:[{type:a,value:aP}]}]},{type:a,value:c},{type:b,tag:i,props:{},children:[{type:a,value:"While it is not essential, most of the Nuxt ecosystem is shifting to use TypeScript, so it is highly recommended to consider migration."}]},{type:a,value:c},{type:b,tag:aQ,props:{icon:aR},children:[{type:b,tag:i,props:{},children:[{type:a,value:"You can start migration by simply renaming "},{type:b,tag:g,props:{},children:[{type:a,value:".js"}]},{type:a,value:" files, to "},{type:b,tag:g,props:{},children:[{type:a,value:".ts"}]},{type:a,value:". TypeScript is designed to be progressive!"}]}]},{type:a,value:c},{type:b,tag:aQ,props:{icon:aR},children:[{type:b,tag:i,props:{},children:[{type:a,value:"You can use TypeScript syntax for Nuxt 2 and 3 modules and plugins without any extra dependencies."}]}]}]},toc:{title:aS,searchDepth:U,depth:U,links:[{id:am,depth:U,text:an,children:[{id:M,depth:s,text:M},{id:N,depth:s,text:N},{id:av,depth:s,text:aw}]},{id:ax,depth:U,text:ay,children:[{id:az,depth:s,text:"Test with @nuxt\u002Fbridge"},{id:aA,depth:s,text:aB},{id:aE,depth:s,text:aF},{id:aK,depth:s,text:aL},{id:aM,depth:s,text:aN},{id:aO,depth:s,text:aP}]}]}},template:"Docs"},templateOptions:{header:K,footer:K,aside:K,asideClass:aS,fluid:J,banner:J},_img:{}}],fetch:{"0":{headerLinks:[{title:"开始",to:"\u002Fgetting-started\u002Fintroduction"},{title:"概念",to:aT},{title:"文档",to:"\u002Fdocs\u002Fusage\u002Fdata-fetching"},{title:"社区",to:"\u002Fcommunity\u002Fgetting-help"}]},"1":{repoUrl:"https:\u002F\u002Fgithub.com\u002Fnuxt\u002Fframework",prev:{slug:"commands",to:"\u002Fgetting-started\u002Fcommands",title:"命令"},next:{slug:"introduction",to:aT,title:"What is Nuxt?"}},_lazyComponents:new Set(["ProseParagraph","ButtonLink","HomeHero","SectionContentItem","HomeFeatures","IconNuxtNitro","Headline","ProseStrong","ProseA","ProseCodeInline","NuxtContainer","IconNuxtBridge","ProseH3","ProseLi","ProseUl","List","ProseH1","Alert","ProseH2","ProseTh","ProseTr","ProseThead","ProseTd","ProseTbody","ProseTable","ProseCode","ProseEm","CodeGroup","ProseH4"])},mutations:ak}}("text","element","\n","span","token","prose-td","prose-code-inline"," ","prose-paragraph","prose-a","✅","keyword","module","punctuation","prose-tr","prose-li","prose-h3","operator",3,"maybe-class-name",")","string","Yes","prose-code","filename","pre","language-js","line-numbers","code","import",".","🚧","(","imports","from",false,true,"prose-th","模块兼容性","插件兼容性","=","function","comment","property-access","Vue","Vuelidate",2,"迁移","No","?","@nuxt\u002Fbridge","prose-h4","code-group","Before","const","'lib'","After","method","default","spread","...","export","\n\n","Nuxt 3 迁移指南。工作正在进行中 🚧",void 0,"prose-h2","nuxt-2-to-nuxt-3","Nuxt 2 to Nuxt 3","prose-ul","app.vue","❌","-","Options API: ","@nuxt\u002Fkit","prose-strong","vue-兼容性","Vue 兼容性","module-migration","Module Migration","test-with-nuxtbridge","avoid-commonjs-syntax","Avoid CommonJS syntax"," lib "," e","ensure-plugins-default-export","Ensure plugins default export","\u002F\u002F ~\u002Fplugins\u002Fvuelidate.js","'vue'","'vuelidate'","use","avoid-runtime-modules","Avoid runtime modules","add-module-meta","Add module meta","use-typescript-optional","Use TypeScript (optional)","alert","💡","","\u002Fconcepts\u002Fintroduction")));