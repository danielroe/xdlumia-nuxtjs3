__NUXT_JSONP__("/docs/deployment/azure", (function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,_,$,aa,ab,ac,ad,ae,af,ag,ah,ai,aj,ak,al,am,an,ao,ap,aq,ar,as,at,au,av,aw,ax,ay,az,aA,aB,aC,aD,aE,aF,aG,aH,aI,aJ,aK,aL,aM,aN){return {data:[{page:{key:"content:3.docs:3.deployment:1.azure.md",generatedAt:new Date(1634130498805),mtime:new Date(1634130498793),slug:Q,title:$,position:"000300030001",to:"\u002Fdocs\u002Fdeployment\u002Fazure",draft:H,page:I,language:"en",icon:"LogoAzure",empty:H,description:aa,excerpt:ab,body:{raw:"---\nicon: LogoAzure\n---\n\n# Azure\n\nHow to deploy Nuxt to Azure Static Web Apps or Azure Functions.\n\n## Azure Functions\n\n::list\n- Support for serverless SSR build\n- No configuration required\n- Static assets served from Azure Function\n::\n\n### Setup\n\n```js [nuxt.config.js]\nexport default {\n  nitro: {\n    preset: 'azure_functions'\n  }\n}\n```\n\n### Local preview\n\nInstall [Azure Functions Core Tools](https:\u002F\u002Fdocs.microsoft.com\u002Fen-us\u002Fazure\u002Fazure-functions\u002Ffunctions-run-local) if you want to test locally.\n\nYou can invoke a development environment from the serverless directory.\n\n```bash\nNITRO_PRESET=azure_functions yarn build\ncd .output\nfunc start\n```\n\nYou can now visit http:\u002F\u002Flocalhost:7071\u002F in your browser and browse your site running locally on Azure Functions.\n\n### Deploy from your local machine\n\nTo deploy, just run the following command:\n```bash\n# To publish the bundled zip file\naz functionapp deployment source config-zip -g \u003Cresource-group\u003E -n \u003Capp-name\u003E --src dist\u002Fdeploy.zip\n# Alternatively you can publish from source\ncd dist && func azure functionapp publish --javascript \u003Capp-name\u003E\n```\n\n### Deploy from CI\u002FCD via GitHub Actions\n\nFirst, obtain your Azure Functions Publish Profile and add it as a secret to your GitHub repository settings following [these instructions](https:\u002F\u002Fgithub.com\u002FAzure\u002Ffunctions-action#using-publish-profile-as-deployment-credential-recommended).\n\nThen create the following file as a workflow:\n\n```yml{}[.github\u002Fworkflows\u002Fazure.yml]\nname: azure\non:\n  push:\n    branches:\n      - main\n  pull_request:\n    branches:\n      - main\njobs:\n  deploy:\n    runs-on: ${{ matrix.os }}\n    strategy:\n      matrix:\n        os: [ ubuntu-latest ]\n        node: [ 12 ]\n    steps:\n      - uses: actions\u002Fsetup-node@v2\n        with:\n          node-version: ${{ matrix.node }}\n\n      - name: Checkout\n        uses: actions\u002Fcheckout@master\n\n      - name: Get yarn cache directory path\n        id: yarn-cache-dir-path\n        run: echo \"::set-output name=dir::$(yarn cache dir)\"\n\n      - uses: actions\u002Fcache@v2\n        id: yarn-cache\n        with:\n          path: ${{ steps.yarn-cache-dir-path.outputs.dir }}\n          key: ${{ runner.os }}-yarn-${{ hashFiles('**\u002Fyarn.lock') }}\n          restore-keys: |\n            ${{ runner.os }}-yarn-azure\n\n      - name: Install Dependencies\n        if: steps.cache.outputs.cache-hit != 'true'\n        run: yarn\n\n      - name: Build\n        run: npm run build\n        env:\n          NITRO_PRESET: azure\n\n      - name: 'Deploy to Azure Functions'\n        uses: Azure\u002Ffunctions-action@v1\n        with:\n          app-name: \u003Cyour-app-name\u003E\n          package: .output\u002Fdeploy.zip\n          publish-profile: ${{ secrets.AZURE_FUNCTIONAPP_PUBLISH_PROFILE }}\n```\n\n### Optimizing Azure Functions\n\nConsider [turning on immutable packages](https:\u002F\u002Fdocs.microsoft.com\u002Fen-us\u002Fazure\u002Fapp-service\u002Fdeploy-run-package) to support running your app from the zipfile. This can speed up cold starts.\n\n### Demo\n\nA live demo is available on https:\u002F\u002Fnuxt-nitro.azurewebsites.net\u002F\n\n## Azure Static Web Apps\n\nHow to deploy Nuxt to Azure Static Web Apps with Nuxt Nitro.\n\n::list\n- Support for serverless SSR build\n- Auto-detected when deploying\n- Minimal configuration required\n::\n\n### Setup\n\nAzure Static Web Apps are designed to be deployed continuously in a [GitHub Actions workflow](https:\u002F\u002Fdocs.microsoft.com\u002Fen-us\u002Fazure\u002Fstatic-web-apps\u002Fgithub-actions-workflow). By default, Nitro will detect this deployment environment and enable the `azure` preset.\n\n### Deploy from CI\u002FCD via GitHub Actions\n\nWhen you link your GitHub repository to Azure Static Web Apps, a workflow file is added to the repository.\n\nFind the build configuration section in this workflow and update the build configuration:\n\n```yml{}[.github\u002Fworkflows\u002Fazure-static-web-apps-\u003CRANDOM_NAME\u003E.yml]\n###### Repository\u002FBuild Configurations ######\napp_location: '\u002F'\napi_location: '.output\u002Fserver'\noutput_location: '.output\u002Fpublic'\n###### End of Repository\u002FBuild Configurations ######\n```\n\n**Note**\n\nPending an update in the [Azure Static Web Apps workflow](https:\u002F\u002Fgithub.com\u002FAzure\u002Fstatic-web-apps-deploy), you will also need to run the following in your root directory:\n```bash\nmkdir -p .output\u002Fserver\ntouch .output\u002Fserver\u002F.gitkeep\ngit add -f .output\u002Fserver\u002F.gitkeep\n```\n\nThat's it! Now Azure Static Web Apps will automatically deploy your Nitro-powered Nuxt application on push.\n",ast:{type:"root",children:[{type:b,tag:"prose-h1",props:{class:"d-heading-title",id:Q},children:[{type:a,value:$}]},{type:a,value:f},{type:b,tag:m,props:{class:"d-heading-description"},children:[{type:a,value:aa}]},{type:a,value:f},{type:b,tag:ac,props:{id:ad},children:[{type:b,tag:l,props:{href:"#azure-functions"},children:[{type:a,value:ae}]}]},{type:a,value:f},{type:b,tag:af,props:{},children:[{type:b,tag:ag,props:{},children:[{type:a,value:f},{type:b,tag:y,props:{},children:[{type:a,value:f},{type:a,value:ah},{type:a,value:f}]},{type:a,value:f},{type:b,tag:y,props:{},children:[{type:a,value:f},{type:a,value:"No configuration required"},{type:a,value:f}]},{type:a,value:f},{type:b,tag:y,props:{},children:[{type:a,value:f},{type:a,value:"Static assets served from Azure Function"},{type:a,value:f}]},{type:a,value:f}]}]},{type:a,value:f},{type:b,tag:q,props:{id:ai},children:[{type:b,tag:l,props:{href:"#setup"},children:[{type:a,value:J}]}]},{type:a,value:f},{type:b,tag:z,props:{},children:[{type:b,tag:c,props:{className:[R]},children:[{type:a,value:"nuxt.config.js"}]},{type:b,tag:A,props:{className:[B,"language-js"]},children:[{type:b,tag:C,props:{},children:[{type:b,tag:c,props:{className:[d,aj,ak]},children:[{type:a,value:"export"}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,aj,ak]},children:[{type:a,value:"default"}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:"\n  nitro"},{type:b,tag:c,props:{className:[d,p]},children:[{type:a,value:g}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:"\n    preset"},{type:b,tag:c,props:{className:[d,p]},children:[{type:a,value:g}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,D]},children:[{type:a,value:"'azure_functions'"}]},{type:a,value:S},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:f}]}]}]},{type:a,value:f},{type:b,tag:q,props:{id:al},children:[{type:b,tag:l,props:{href:"#local-preview"},children:[{type:a,value:am}]}]},{type:a,value:f},{type:b,tag:m,props:{},children:[{type:a,value:"Install "},{type:b,tag:l,props:{href:"https:\u002F\u002Fdocs.microsoft.com\u002Fen-us\u002Fazure\u002Fazure-functions\u002Ffunctions-run-local",rel:[s,t,u],target:v},children:[{type:a,value:"Azure Functions Core Tools"}]},{type:a,value:" if you want to test locally."}]},{type:a,value:f},{type:b,tag:m,props:{},children:[{type:a,value:"You can invoke a development environment from the serverless directory."}]},{type:a,value:f},{type:b,tag:z,props:{},children:[{type:b,tag:A,props:{className:[B,T]},children:[{type:b,tag:C,props:{},children:[{type:b,tag:c,props:{className:[d,"assign-left","variable"]},children:[{type:a,value:an}]},{type:b,tag:c,props:{className:[d,p]},children:[{type:a,value:"="}]},{type:a,value:"azure_functions "},{type:b,tag:c,props:{className:[d,E]},children:[{type:a,value:ao}]},{type:a,value:" build\n"},{type:b,tag:c,props:{className:[d,U,V]},children:[{type:a,value:ap}]},{type:a,value:" .output\nfunc start\n"}]}]}]},{type:a,value:f},{type:b,tag:m,props:{},children:[{type:a,value:"You can now visit "},{type:b,tag:l,props:{href:aq,rel:[s,t,u],target:v},children:[{type:a,value:aq}]},{type:a,value:" in your browser and browse your site running locally on Azure Functions."}]},{type:a,value:f},{type:b,tag:q,props:{id:ar},children:[{type:b,tag:l,props:{href:"#deploy-from-your-local-machine"},children:[{type:a,value:as}]}]},{type:a,value:f},{type:b,tag:m,props:{},children:[{type:a,value:"To deploy, just run the following command:"}]},{type:a,value:f},{type:b,tag:z,props:{},children:[{type:b,tag:A,props:{className:[B,T]},children:[{type:b,tag:C,props:{},children:[{type:b,tag:c,props:{className:[d,K]},children:[{type:a,value:"# To publish the bundled zip file"}]},{type:a,value:"\naz functionapp deployment "},{type:b,tag:c,props:{className:[d,U,V]},children:[{type:a,value:"source"}]},{type:a,value:" config-zip -g "},{type:b,tag:c,props:{className:[d,p]},children:[{type:a,value:W}]},{type:a,value:"resource-group"},{type:b,tag:c,props:{className:[d,p]},children:[{type:a,value:L}]},{type:a,value:" -n "},{type:b,tag:c,props:{className:[d,p]},children:[{type:a,value:W}]},{type:a,value:X},{type:b,tag:c,props:{className:[d,p]},children:[{type:a,value:L}]},{type:a,value:" --src dist\u002Fdeploy.zip\n"},{type:b,tag:c,props:{className:[d,K]},children:[{type:a,value:"# Alternatively you can publish from source"}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,U,V]},children:[{type:a,value:ap}]},{type:a,value:" dist "},{type:b,tag:c,props:{className:[d,p]},children:[{type:a,value:"&&"}]},{type:a,value:" func azure functionapp publish --javascript "},{type:b,tag:c,props:{className:[d,p]},children:[{type:a,value:W}]},{type:a,value:X},{type:b,tag:c,props:{className:[d,p]},children:[{type:a,value:L}]},{type:a,value:f}]}]}]},{type:a,value:f},{type:b,tag:q,props:{id:at},children:[{type:b,tag:l,props:{href:"#deploy-from-cicd-via-github-actions"},children:[{type:a,value:M}]}]},{type:a,value:f},{type:b,tag:m,props:{},children:[{type:a,value:"First, obtain your Azure Functions Publish Profile and add it as a secret to your GitHub repository settings following "},{type:b,tag:l,props:{href:"https:\u002F\u002Fgithub.com\u002FAzure\u002Ffunctions-action#using-publish-profile-as-deployment-credential-recommended",rel:[s,t,u],target:v},children:[{type:a,value:"these instructions"}]},{type:a,value:"."}]},{type:a,value:f},{type:b,tag:m,props:{},children:[{type:a,value:"Then create the following file as a workflow:"}]},{type:a,value:f},{type:b,tag:z,props:{},children:[{type:b,tag:c,props:{className:[R]},children:[{type:a,value:".github\u002Fworkflows\u002Fazure.yml"}]},{type:b,tag:A,props:{className:[B,au]},children:[{type:b,tag:C,props:{},children:[{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:w}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:" azure\n"},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:"on"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:S},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:"push"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:F},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:av}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:N},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:" main\n  "},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:"pull_request"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:F},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:av}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:N},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:" main\n"},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:"jobs"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:S},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:"deploy"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:F},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:"runs-on"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:G},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:" matrix.os "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:F},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:"strategy"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:N},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:"matrix"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:Y},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:"os"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:aw}]},{type:a,value:" ubuntu"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:"latest "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:ax}]},{type:a,value:Y},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:"node"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:aw}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,"number"]},children:[{type:a,value:"12"}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:ax}]},{type:a,value:F},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:"steps"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:N},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:O}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:" actions\u002Fsetup"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:"node@v2\n        "},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:Z}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:x},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:"node-version"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:G},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:" matrix.node "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:ay},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:w}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:" Checkout\n        "},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:O}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:" actions\u002Fcheckout@master\n\n      "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:w}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:" Get yarn cache directory path\n        "},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:az}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:aA},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:aB},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:aC},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:"path\n        "},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:_}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:" echo \""},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:"set"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:"output name=dir"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:"$(yarn cache dir)\"\n\n      "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:O}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:" actions\u002Fcache@v2\n        "},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:az}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:aA},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:"cache\n        "},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:Z}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:x},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:"path"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:G},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:" steps.yarn"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:aB},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:aC},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:"path.outputs.dir "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:x},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:G},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:" runner.os "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:ao},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:"$"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:" hashFiles('"},{type:b,tag:c,props:{className:[d,"important"]},children:[{type:a,value:"**\u002Fyarn.lock')"}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:x},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:"restore-keys"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:"|"}]},{type:b,tag:c,props:{className:[d,"scalar",D]},children:[{type:a,value:"\n            ${{ runner.os }}-yarn-azure"}]},{type:a,value:ay},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:w}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:" Install Dependencies\n        "},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:"if"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:" steps.cache.outputs.cache"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:"hit "},{type:b,tag:c,props:{className:[d,"tag"]},children:[{type:a,value:"!="}]},{type:a,value:" 'true'\n        "},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:_}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:" yarn\n\n      "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:w}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:" Build\n        "},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:_}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:" npm run build\n        "},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:"env"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:x},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:an}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:" azure\n\n      "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:w}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,D]},children:[{type:a,value:"'Deploy to Azure Functions'"}]},{type:a,value:Y},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:O}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:" Azure\u002Ffunctions"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:"action@v1\n        "},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:Z}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:x},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:X}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:" \u003Cyour"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:"app"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:L}]},{type:a,value:x},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:aD}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:" .output\u002Fdeploy.zip\n          "},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:"publish-profile"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:G},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:" secrets.AZURE_FUNCTIONAPP_PUBLISH_PROFILE "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:f}]}]}]},{type:a,value:f},{type:b,tag:q,props:{id:aE},children:[{type:b,tag:l,props:{href:"#optimizing-azure-functions"},children:[{type:a,value:aF}]}]},{type:a,value:f},{type:b,tag:m,props:{},children:[{type:a,value:"Consider "},{type:b,tag:l,props:{href:"https:\u002F\u002Fdocs.microsoft.com\u002Fen-us\u002Fazure\u002Fapp-service\u002Fdeploy-run-package",rel:[s,t,u],target:v},children:[{type:a,value:"turning on immutable packages"}]},{type:a,value:" to support running your app from the zipfile. This can speed up cold starts."}]},{type:a,value:f},{type:b,tag:q,props:{id:aG},children:[{type:b,tag:l,props:{href:"#demo"},children:[{type:a,value:aH}]}]},{type:a,value:f},{type:b,tag:m,props:{},children:[{type:a,value:"A live demo is available on "},{type:b,tag:l,props:{href:aI,rel:[s,t,u],target:v},children:[{type:a,value:aI}]}]},{type:a,value:f},{type:b,tag:ac,props:{id:aJ},children:[{type:b,tag:l,props:{href:"#azure-static-web-apps"},children:[{type:a,value:aK}]}]},{type:a,value:f},{type:b,tag:m,props:{},children:[{type:a,value:"How to deploy Nuxt to Azure Static Web Apps with Nuxt Nitro."}]},{type:a,value:f},{type:b,tag:af,props:{},children:[{type:b,tag:ag,props:{},children:[{type:a,value:f},{type:b,tag:y,props:{},children:[{type:a,value:f},{type:a,value:ah},{type:a,value:f}]},{type:a,value:f},{type:b,tag:y,props:{},children:[{type:a,value:f},{type:a,value:"Auto-detected when deploying"},{type:a,value:f}]},{type:a,value:f},{type:b,tag:y,props:{},children:[{type:a,value:f},{type:a,value:"Minimal configuration required"},{type:a,value:f}]},{type:a,value:f}]}]},{type:a,value:f},{type:b,tag:q,props:{id:aL},children:[{type:b,tag:l,props:{href:"#setup-1"},children:[{type:a,value:J}]}]},{type:a,value:f},{type:b,tag:m,props:{},children:[{type:a,value:"Azure Static Web Apps are designed to be deployed continuously in a "},{type:b,tag:l,props:{href:"https:\u002F\u002Fdocs.microsoft.com\u002Fen-us\u002Fazure\u002Fstatic-web-apps\u002Fgithub-actions-workflow",rel:[s,t,u],target:v},children:[{type:a,value:"GitHub Actions workflow"}]},{type:a,value:". By default, Nitro will detect this deployment environment and enable the "},{type:b,tag:"prose-code-inline",props:{},children:[{type:a,value:Q}]},{type:a,value:" preset."}]},{type:a,value:f},{type:b,tag:q,props:{id:aM},children:[{type:b,tag:l,props:{href:"#deploy-from-cicd-via-github-actions-1"},children:[{type:a,value:M}]}]},{type:a,value:f},{type:b,tag:m,props:{},children:[{type:a,value:"When you link your GitHub repository to Azure Static Web Apps, a workflow file is added to the repository."}]},{type:a,value:f},{type:b,tag:m,props:{},children:[{type:a,value:"Find the build configuration section in this workflow and update the build configuration:"}]},{type:a,value:f},{type:b,tag:z,props:{},children:[{type:b,tag:c,props:{className:[R]},children:[{type:a,value:".github\u002Fworkflows\u002Fazure-static-web-apps-\u003CRANDOM_NAME\u003E.yml"}]},{type:b,tag:A,props:{className:[B,au]},children:[{type:b,tag:C,props:{},children:[{type:b,tag:c,props:{className:[d,K]},children:[{type:a,value:"###### Repository\u002FBuild Configurations ######"}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:"app_location"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,D]},children:[{type:a,value:"'\u002F'"}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:"api_location"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,D]},children:[{type:a,value:"'.output\u002Fserver'"}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:"output_location"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,D]},children:[{type:a,value:"'.output\u002Fpublic'"}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,K]},children:[{type:a,value:"###### End of Repository\u002FBuild Configurations ######"}]},{type:a,value:f}]}]}]},{type:a,value:f},{type:b,tag:m,props:{},children:[{type:b,tag:"prose-strong",props:{},children:[{type:a,value:"Note"}]}]},{type:a,value:f},{type:b,tag:m,props:{},children:[{type:a,value:"Pending an update in the "},{type:b,tag:l,props:{href:"https:\u002F\u002Fgithub.com\u002FAzure\u002Fstatic-web-apps-deploy",rel:[s,t,u],target:v},children:[{type:a,value:"Azure Static Web Apps workflow"}]},{type:a,value:", you will also need to run the following in your root directory:"}]},{type:a,value:f},{type:b,tag:z,props:{},children:[{type:b,tag:A,props:{className:[B,T]},children:[{type:b,tag:C,props:{},children:[{type:b,tag:c,props:{className:[d,E]},children:[{type:a,value:"mkdir"}]},{type:a,value:" -p .output\u002Fserver\n"},{type:b,tag:c,props:{className:[d,E]},children:[{type:a,value:"touch"}]},{type:a,value:" .output\u002Fserver\u002F.gitkeep\n"},{type:b,tag:c,props:{className:[d,E]},children:[{type:a,value:"git"}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,E]},children:[{type:a,value:"add"}]},{type:a,value:" -f .output\u002Fserver\u002F.gitkeep\n"}]}]}]},{type:a,value:f},{type:b,tag:m,props:{},children:[{type:a,value:"That's it! Now Azure Static Web Apps will automatically deploy your Nitro-powered Nuxt application on push."}]}]},toc:{title:aN,searchDepth:P,depth:P,links:[{id:ad,depth:P,text:ae,children:[{id:ai,depth:r,text:J},{id:al,depth:r,text:am},{id:ar,depth:r,text:as},{id:at,depth:r,text:M},{id:aE,depth:r,text:aF},{id:aG,depth:r,text:aH}]},{id:aJ,depth:P,text:aK,children:[{id:aL,depth:r,text:J},{id:aM,depth:r,text:M}]}]}},template:"Docs"},templateOptions:{header:I,footer:I,aside:I,asideClass:aN,fluid:H,banner:H},_img:{}}],fetch:{"0":{headerLinks:[{title:"开始",to:"\u002Fgetting-started\u002Fintroduction"},{title:"概念",to:"\u002Fconcepts\u002Fintroduction"},{title:"文档",to:"\u002Fdocs\u002Fusage\u002Fdata-fetching"},{title:"社区",to:"\u002Fcommunity\u002Fgetting-help"}]},"1":{repoUrl:"https:\u002F\u002Fgithub.com\u002Fnuxt\u002Fframework",prev:{slug:aD,to:"\u002Fdocs\u002Fdirectory-structure\u002Fpackage",title:"package.json"},next:{slug:"cloudflare",to:"\u002Fdocs\u002Fdeployment\u002Fcloudflare",title:"Cloudflare Workers"}},_lazyComponents:new Set(["ProseParagraph","ButtonLink","HomeHero","SectionContentItem","HomeFeatures","IconNuxtNitro","Headline","ProseStrong","ProseA","ProseCodeInline","NuxtContainer","IconNuxtBridge","ProseH3","ProseLi","ProseUl","List","ProseH1","Alert","ProseH2","ProseTh","ProseTr","ProseThead","ProseTd","ProseTbody","ProseTable","ProseCode","ProseEm","CodeGroup","ProseH4"])},mutations:ab}}("text","element","span","token","punctuation","\n",":","key","atrule","-"," ","prose-a","prose-paragraph","{","}","operator","prose-h3",3,"nofollow","noopener","noreferrer","_blank","name","\n          ","prose-li","prose-code","pre","line-numbers","code","string","function","\n    "," $",false,true,"Setup","comment","\u003E","Deploy from CI\u002FCD via GitHub Actions","\n      ","uses",2,"azure","filename","\n  ","language-bash","builtin","class-name","\u003C","app-name","\n        ","with","run","Azure","How to deploy Nuxt to Azure Static Web Apps or Azure Functions.",void 0,"prose-h2","azure-functions","Azure Functions","list","prose-ul","Support for serverless SSR build","setup","keyword","module","local-preview","Local preview","NITRO_PRESET","yarn","cd","http:\u002F\u002Flocalhost:7071\u002F","deploy-from-your-local-machine","Deploy from your local machine","deploy-from-cicd-via-github-actions","language-yml","branches","[","]","\n\n      ","id"," yarn","cache","dir","package","optimizing-azure-functions","Optimizing Azure Functions","demo","Demo","https:\u002F\u002Fnuxt-nitro.azurewebsites.net\u002F","azure-static-web-apps","Azure Static Web Apps","setup-1","deploy-from-cicd-via-github-actions-1","")));