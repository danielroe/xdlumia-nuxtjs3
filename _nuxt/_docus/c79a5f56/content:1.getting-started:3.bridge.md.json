{"key":"content:1.getting-started:3.bridge.md","generatedAt":"2021-10-13T13:08:12.837Z","mtime":"2021-10-13T13:08:12.811Z","slug":"bridge","title":"Bridge","position":"000100030000","to":"/getting-started/bridge","draft":false,"page":true,"language":"en","empty":false,"description":"åœ¨ç°æœ‰Nuxt2ä¸Šä½“éªŒNuxt3çš„æ–°ç‰¹æ€§","body":{"raw":"# Bridge\n\nåœ¨ç°æœ‰Nuxt2ä¸Šä½“éªŒNuxt3çš„æ–°ç‰¹æ€§\n\n::alert\nå¦‚æœæ‚¨æƒ³æ–°å»ºNuxt3é¡¹ç›®ï¼Œè¯·è·³è¿‡æ­¤éƒ¨åˆ†å¹¶é˜…è¯»[Nuxt 3 Installation](/getting-started/installation).<br>\näº†è§£æ›´å¤š [Introduction](/getting-started/introduction).\n::\n\nBridgeæ˜¯å‘å‰å…¼å®¹çš„ï¼Œé€šè¿‡ç®€å•çš„å®‰è£…å’Œå¯ç”¨Nuxtæ¨¡å—ï¼Œå°±å¯ä»¥è®©ä½ ä½“éªŒåˆ°å¾ˆå¤šNuxt 3çš„æ–°ç‰¹æ€§ã€‚ \n\nä½¿ç”¨Nuxt Bridge, å¯ç¡®ä¿è®©æ‚¨çš„é¡¹ç›®æ— éœ€å¤§é‡é‡å†™æˆ–åšé£é™©æ€§å˜åŠ¨ï¼Œå‡ ä¹å°±å¯ä»¥å‡†å¤‡å¥½Nuxt 3ï¼Œå¹¶ä¸”æ‹¥æœ‰æœ€å¥½çš„å¼€å‘ä½“éªŒã€‚\n\n\n### å‡çº§Nuxt 2\n\nåˆ é™¤packageé”æ–‡ä»¶ (`package-lock.json` and `yarn.lock`)å¹¶ä¸”ä½¿ç”¨æœ€æ–°çš„`nuxt-edge`:\n\n**package.json**\n\n```diff\n- \"nuxt\": \"^2.15.0\"\n+ \"nuxt-edge\": \"latest\"\n```\n\næ¥ç€ï¼Œè¯·é‡è£…ä¾èµ–ç»„ä»¶ï¼š\n\n::code-group\n```bash [Yarn]\nyarn install\n```\n```bash [NPM]\nnpm install\n```\n::\n\n::alert\nå¦‚æœå®‰è£…å®Œæˆï¼Œè¯·ç¡®ä¿developmentå’Œproductionä¸¤ç§ç¯å¢ƒå¯ä»¥å¦‚é¢„æœŸä¸€æ ·è¿è¡Œã€‚\n::\n\n### å®‰è£…Nuxt Bridge\n\nå®‰è£… `@nuxt/bridge-edge` ä½œä¸ºå¼€å‘ä¾èµ–:\n\n::code-group\n```bash [NPM]\nnpm install -D @nuxt/bridge@npm:@nuxt/bridge-edge\n```\n```bash [Yarn]\nyarn add --dev @nuxt/bridge@npm:@nuxt/bridge-edge\n```\n::\n\n### æ›´æ–°`nuxt.config`\n\nè¯·é¿å…åœ¨æ‚¨çš„é…ç½®æ–‡ä»¶ä¸­ä½¿ç”¨ä»»ä½•çš„CommonJSè¯­æ³•ï¼Œä¾‹å¦‚ `module.exports`, `require` æˆ–è€… `require.resolve` ã€‚å› ä¸ºå®ƒå·²ç»è¢«å¼ƒç”¨ä¸”ä¸å†æ”¯æŒã€‚\n\næ‚¨å¯ä»¥ä½¿ç”¨é™æ€ `import`, åŠ¨æ€ `import()` ä»¥åŠ `export default`ã€‚ä½¿ç”¨é‡å‘½åä¸º`nuxt.config.ts`çš„TypeScriptä¹Ÿæ˜¯å¯è¡Œçš„ã€‚\n\n```ts [nuxt.config.js]\nimport { defineNuxtConfig } from '@nuxt/bridge'\n\nexport default defineNuxtConfig({\n  // Your existing configuration\n})\n```\n\n### é¿å…ä½¿ç”¨CommonJSè¯­æ³•\n\nNuxt 3å¤©ç„¶åœ°æ”¯æŒTypeScriptå’ŒECMAScript Modules.\n\n#### æ›´æ–°imports\n\n::code-group\n```js [Before]\nconst lib = require('lib')\n```\n```js [After]\nimport lib from 'lib'\n// or using code-splitting\nconst lib = await import('lib').then(e => e.default || e)\n```\n::\n\n#### æ›´æ–°exports\n\n::code-group\n```js [Before]\nmodule.exports = ...\n```\n```js [After]\nexport default ...\n// or using named export\nexport const hello = ...\n```\n::\n\n#### é¿å…ä½¿ç”¨ç‰¹æ®Šçš„CJSè¯­æ³•\n\nå°½å¯èƒ½é¿å…ä½¿ç”¨ `__dirname` å’Œ `__filename`ã€‚\n\n### åˆ é™¤ä¸ç›¸å®¹å’ŒåºŸå¼ƒçš„æ¨¡å—\n\n- Remove `@nuxt/content` (1.x). A rewrite for nuxt 3 is planned (2.x)\n- Remove `nuxt-vite`: Bridge enables same functionality\n- Remove `@nuxtjs/typescript-build`: Bridge enables same functionality\n- Remove `@nuxtjs/typescript-runtime` and `nuxt-ts`: Nuxt 2 has built-in runtime support\n- Remove `@nuxt/nitro`: Bridge injects same functionality\n- Remove `@nuxtjs/composition-api`: Bridge provides a Nuxt 3 compatible composition-api layer and help to remove dependency\n\n### ç¡®ä¿ä¸€åˆ‡æ­£å¸¸è¿è¡Œ\n\nâœ”ï¸ ä½¿ç”¨ `nuxt dev` å’Œ `nuxt build` (æˆ–è€… `nuxt generate`) æ£€æŸ¥ä¸€åˆ‡æ˜¯å¦æ­£å¸¸è¿è¡Œ\n\nğŸ› å¦‚æœå‡ºé”™å•¦ï¼Ÿè¯·å‘ŠçŸ¥æˆ‘ä»¬ã€‚æˆ–è€…ï¼Œæ‚¨å¯ä»¥å¾ˆè½»æ¾åœç”¨bridge:\n\n```ts [nuxt.config.js]\nimport { defineNuxtConfig } from '@nuxt/bridge'\n\nexport default defineNuxtConfig({\n  bridge: false // Temporarily disable bridge integration\n})\n```\n","ast":{"type":"root","children":[{"type":"element","tag":"prose-h1","props":{"class":"d-heading-title","id":"bridge"},"children":[{"type":"text","value":"Bridge"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{"class":"d-heading-description"},"children":[{"type":"text","value":"åœ¨ç°æœ‰Nuxt2ä¸Šä½“éªŒNuxt3çš„æ–°ç‰¹æ€§"}]},{"type":"text","value":"\n"},{"type":"element","tag":"alert","props":{},"children":[{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"text","value":"å¦‚æœæ‚¨æƒ³æ–°å»ºNuxt3é¡¹ç›®ï¼Œè¯·è·³è¿‡æ­¤éƒ¨åˆ†å¹¶é˜…è¯»"},{"type":"element","tag":"prose-a","props":{"href":"/getting-started/installation"},"children":[{"type":"text","value":"Nuxt 3 Installation"}]},{"type":"text","value":"."},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"\näº†è§£æ›´å¤š "},{"type":"element","tag":"prose-a","props":{"href":"/getting-started/introduction"},"children":[{"type":"text","value":"Introduction"}]},{"type":"text","value":"."}]}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"text","value":"Bridgeæ˜¯å‘å‰å…¼å®¹çš„ï¼Œé€šè¿‡ç®€å•çš„å®‰è£…å’Œå¯ç”¨Nuxtæ¨¡å—ï¼Œå°±å¯ä»¥è®©ä½ ä½“éªŒåˆ°å¾ˆå¤šNuxt 3çš„æ–°ç‰¹æ€§ã€‚"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"text","value":"ä½¿ç”¨Nuxt Bridge, å¯ç¡®ä¿è®©æ‚¨çš„é¡¹ç›®æ— éœ€å¤§é‡é‡å†™æˆ–åšé£é™©æ€§å˜åŠ¨ï¼Œå‡ ä¹å°±å¯ä»¥å‡†å¤‡å¥½Nuxt 3ï¼Œå¹¶ä¸”æ‹¥æœ‰æœ€å¥½çš„å¼€å‘ä½“éªŒã€‚"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-h3","props":{"id":"å‡çº§nuxt-2"},"children":[{"type":"element","tag":"prose-a","props":{"href":"#%E5%8D%87%E7%BA%A7nuxt-2"},"children":[{"type":"text","value":"å‡çº§Nuxt 2"}]}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"text","value":"åˆ é™¤packageé”æ–‡ä»¶ ("},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"package-lock.json"}]},{"type":"text","value":" and "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"yarn.lock"}]},{"type":"text","value":")å¹¶ä¸”ä½¿ç”¨æœ€æ–°çš„"},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"nuxt-edge"}]},{"type":"text","value":":"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"element","tag":"prose-strong","props":{},"children":[{"type":"text","value":"package.json"}]}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-code","props":{},"children":[{"type":"element","tag":"pre","props":{"className":["line-numbers","language-diff"]},"children":[{"type":"element","tag":"code","props":{},"children":[{"type":"element","tag":"span","props":{"className":["token","deleted-sign","deleted"]},"children":[{"type":"element","tag":"span","props":{"className":["token","prefix","deleted"]},"children":[{"type":"text","value":"-"}]},{"type":"element","tag":"span","props":{"className":["token","line"]},"children":[{"type":"text","value":" \"nuxt\": \"^2.15.0\"\n"}]}]},{"type":"element","tag":"span","props":{"className":["token","inserted-sign","inserted"]},"children":[{"type":"element","tag":"span","props":{"className":["token","prefix","inserted"]},"children":[{"type":"text","value":"+"}]},{"type":"element","tag":"span","props":{"className":["token","line"]},"children":[{"type":"text","value":" \"nuxt-edge\": \"latest\"\n"}]}]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"text","value":"æ¥ç€ï¼Œè¯·é‡è£…ä¾èµ–ç»„ä»¶ï¼š"}]},{"type":"text","value":"\n"},{"type":"element","tag":"code-group","props":{},"children":[{"type":"element","tag":"prose-code","props":{},"children":[{"type":"element","tag":"span","props":{"className":["filename"]},"children":[{"type":"text","value":"Yarn"}]},{"type":"element","tag":"pre","props":{"className":["line-numbers","language-bash"]},"children":[{"type":"element","tag":"code","props":{},"children":[{"type":"element","tag":"span","props":{"className":["token","function"]},"children":[{"type":"text","value":"yarn"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","function"]},"children":[{"type":"text","value":"install"}]},{"type":"text","value":"\n"}]}]}]},{"type":"element","tag":"prose-code","props":{},"children":[{"type":"element","tag":"span","props":{"className":["filename"]},"children":[{"type":"text","value":"NPM"}]},{"type":"element","tag":"pre","props":{"className":["line-numbers","language-bash"]},"children":[{"type":"element","tag":"code","props":{},"children":[{"type":"element","tag":"span","props":{"className":["token","function"]},"children":[{"type":"text","value":"npm"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","function"]},"children":[{"type":"text","value":"install"}]},{"type":"text","value":"\n"}]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tag":"alert","props":{},"children":[{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"text","value":"å¦‚æœå®‰è£…å®Œæˆï¼Œè¯·ç¡®ä¿developmentå’Œproductionä¸¤ç§ç¯å¢ƒå¯ä»¥å¦‚é¢„æœŸä¸€æ ·è¿è¡Œã€‚"}]}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-h3","props":{"id":"å®‰è£…nuxt-bridge"},"children":[{"type":"element","tag":"prose-a","props":{"href":"#%E5%AE%89%E8%A3%85nuxt-bridge"},"children":[{"type":"text","value":"å®‰è£…Nuxt Bridge"}]}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"text","value":"å®‰è£… "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"@nuxt/bridge-edge"}]},{"type":"text","value":" ä½œä¸ºå¼€å‘ä¾èµ–:"}]},{"type":"text","value":"\n"},{"type":"element","tag":"code-group","props":{},"children":[{"type":"element","tag":"prose-code","props":{},"children":[{"type":"element","tag":"span","props":{"className":["filename"]},"children":[{"type":"text","value":"NPM"}]},{"type":"element","tag":"pre","props":{"className":["line-numbers","language-bash"]},"children":[{"type":"element","tag":"code","props":{},"children":[{"type":"element","tag":"span","props":{"className":["token","function"]},"children":[{"type":"text","value":"npm"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","function"]},"children":[{"type":"text","value":"install"}]},{"type":"text","value":" -D @nuxt/bridge@npm:@nuxt/bridge-edge\n"}]}]}]},{"type":"element","tag":"prose-code","props":{},"children":[{"type":"element","tag":"span","props":{"className":["filename"]},"children":[{"type":"text","value":"Yarn"}]},{"type":"element","tag":"pre","props":{"className":["line-numbers","language-bash"]},"children":[{"type":"element","tag":"code","props":{},"children":[{"type":"element","tag":"span","props":{"className":["token","function"]},"children":[{"type":"text","value":"yarn"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","function"]},"children":[{"type":"text","value":"add"}]},{"type":"text","value":" --dev @nuxt/bridge@npm:@nuxt/bridge-edge\n"}]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-h3","props":{"id":"æ›´æ–°nuxtconfig"},"children":[{"type":"element","tag":"prose-a","props":{"href":"#%E6%9B%B4%E6%96%B0nuxtconfig"},"children":[{"type":"text","value":"æ›´æ–°"},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"nuxt.config"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"text","value":"è¯·é¿å…åœ¨æ‚¨çš„é…ç½®æ–‡ä»¶ä¸­ä½¿ç”¨ä»»ä½•çš„CommonJSè¯­æ³•ï¼Œä¾‹å¦‚ "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"module.exports"}]},{"type":"text","value":", "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"require"}]},{"type":"text","value":" æˆ–è€… "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"require.resolve"}]},{"type":"text","value":" ã€‚å› ä¸ºå®ƒå·²ç»è¢«å¼ƒç”¨ä¸”ä¸å†æ”¯æŒã€‚"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"text","value":"æ‚¨å¯ä»¥ä½¿ç”¨é™æ€ "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"import"}]},{"type":"text","value":", åŠ¨æ€ "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"import()"}]},{"type":"text","value":" ä»¥åŠ "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"export default"}]},{"type":"text","value":"ã€‚ä½¿ç”¨é‡å‘½åä¸º"},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"nuxt.config.ts"}]},{"type":"text","value":"çš„TypeScriptä¹Ÿæ˜¯å¯è¡Œçš„ã€‚"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-code","props":{},"children":[{"type":"element","tag":"span","props":{"className":["filename"]},"children":[{"type":"text","value":"nuxt.config.js"}]},{"type":"element","tag":"pre","props":{"className":["line-numbers","language-ts"]},"children":[{"type":"element","tag":"code","props":{},"children":[{"type":"element","tag":"span","props":{"className":["token","keyword"]},"children":[{"type":"text","value":"import"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":" defineNuxtConfig "},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","keyword"]},"children":[{"type":"text","value":"from"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","string"]},"children":[{"type":"text","value":"'@nuxt/bridge'"}]},{"type":"text","value":"\n\n"},{"type":"element","tag":"span","props":{"className":["token","keyword"]},"children":[{"type":"text","value":"export"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","keyword"]},"children":[{"type":"text","value":"default"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","function"]},"children":[{"type":"text","value":"defineNuxtConfig"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n  "},{"type":"element","tag":"span","props":{"className":["token","comment"]},"children":[{"type":"text","value":"// Your existing configuration"}]},{"type":"text","value":"\n"},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":"\n"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-h3","props":{"id":"é¿å…ä½¿ç”¨commonjsè¯­æ³•"},"children":[{"type":"element","tag":"prose-a","props":{"href":"#%E9%81%BF%E5%85%8D%E4%BD%BF%E7%94%A8commonjs%E8%AF%AD%E6%B3%95"},"children":[{"type":"text","value":"é¿å…ä½¿ç”¨CommonJSè¯­æ³•"}]}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"text","value":"Nuxt 3å¤©ç„¶åœ°æ”¯æŒTypeScriptå’ŒECMAScript Modules."}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-h4","props":{"id":"æ›´æ–°imports"},"children":[{"type":"element","tag":"prose-a","props":{"href":"#%E6%9B%B4%E6%96%B0imports"},"children":[{"type":"text","value":"æ›´æ–°imports"}]}]},{"type":"text","value":"\n"},{"type":"element","tag":"code-group","props":{},"children":[{"type":"element","tag":"prose-code","props":{},"children":[{"type":"element","tag":"span","props":{"className":["filename"]},"children":[{"type":"text","value":"Before"}]},{"type":"element","tag":"pre","props":{"className":["line-numbers","language-js"]},"children":[{"type":"element","tag":"code","props":{},"children":[{"type":"element","tag":"span","props":{"className":["token","keyword"]},"children":[{"type":"text","value":"const"}]},{"type":"text","value":" lib "},{"type":"element","tag":"span","props":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","function"]},"children":[{"type":"text","value":"require"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"className":["token","string"]},"children":[{"type":"text","value":"'lib'"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":"\n"}]}]}]},{"type":"element","tag":"prose-code","props":{},"children":[{"type":"element","tag":"span","props":{"className":["filename"]},"children":[{"type":"text","value":"After"}]},{"type":"element","tag":"pre","props":{"className":["line-numbers","language-js"]},"children":[{"type":"element","tag":"code","props":{},"children":[{"type":"element","tag":"span","props":{"className":["token","keyword","module"]},"children":[{"type":"text","value":"import"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","imports"]},"children":[{"type":"text","value":"lib"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","keyword","module"]},"children":[{"type":"text","value":"from"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","string"]},"children":[{"type":"text","value":"'lib'"}]},{"type":"text","value":"\n"},{"type":"element","tag":"span","props":{"className":["token","comment"]},"children":[{"type":"text","value":"// or using code-splitting"}]},{"type":"text","value":"\n"},{"type":"element","tag":"span","props":{"className":["token","keyword"]},"children":[{"type":"text","value":"const"}]},{"type":"text","value":" lib "},{"type":"element","tag":"span","props":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","keyword","control-flow"]},"children":[{"type":"text","value":"await"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","keyword","module"]},"children":[{"type":"text","value":"import"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"className":["token","string"]},"children":[{"type":"text","value":"'lib'"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"className":["token","method","function","property-access"]},"children":[{"type":"text","value":"then"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"className":["token","parameter"]},"children":[{"type":"text","value":"e"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","arrow","operator"]},"children":[{"type":"text","value":"=>"}]},{"type":"text","value":" e"},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"className":["token","keyword","module"]},"children":[{"type":"text","value":"default"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","operator"]},"children":[{"type":"text","value":"||"}]},{"type":"text","value":" e"},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":"\n"}]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-h4","props":{"id":"æ›´æ–°exports"},"children":[{"type":"element","tag":"prose-a","props":{"href":"#%E6%9B%B4%E6%96%B0exports"},"children":[{"type":"text","value":"æ›´æ–°exports"}]}]},{"type":"text","value":"\n"},{"type":"element","tag":"code-group","props":{},"children":[{"type":"element","tag":"prose-code","props":{},"children":[{"type":"element","tag":"span","props":{"className":["filename"]},"children":[{"type":"text","value":"Before"}]},{"type":"element","tag":"pre","props":{"className":["line-numbers","language-js"]},"children":[{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"module"},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"className":["token","property-access"]},"children":[{"type":"text","value":"exports"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","spread","operator"]},"children":[{"type":"text","value":"..."}]},{"type":"text","value":"\n"}]}]}]},{"type":"element","tag":"prose-code","props":{},"children":[{"type":"element","tag":"span","props":{"className":["filename"]},"children":[{"type":"text","value":"After"}]},{"type":"element","tag":"pre","props":{"className":["line-numbers","language-js"]},"children":[{"type":"element","tag":"code","props":{},"children":[{"type":"element","tag":"span","props":{"className":["token","keyword","module"]},"children":[{"type":"text","value":"export"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","keyword","module"]},"children":[{"type":"text","value":"default"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","spread","operator"]},"children":[{"type":"text","value":"..."}]},{"type":"text","value":"\n"},{"type":"element","tag":"span","props":{"className":["token","comment"]},"children":[{"type":"text","value":"// or using named export"}]},{"type":"text","value":"\n"},{"type":"element","tag":"span","props":{"className":["token","keyword","module"]},"children":[{"type":"text","value":"export"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","keyword"]},"children":[{"type":"text","value":"const"}]},{"type":"text","value":" hello "},{"type":"element","tag":"span","props":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","spread","operator"]},"children":[{"type":"text","value":"..."}]},{"type":"text","value":"\n"}]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-h4","props":{"id":"é¿å…ä½¿ç”¨ç‰¹æ®Šçš„cjsè¯­æ³•"},"children":[{"type":"element","tag":"prose-a","props":{"href":"#%E9%81%BF%E5%85%8D%E4%BD%BF%E7%94%A8%E7%89%B9%E6%AE%8A%E7%9A%84cjs%E8%AF%AD%E6%B3%95"},"children":[{"type":"text","value":"é¿å…ä½¿ç”¨ç‰¹æ®Šçš„CJSè¯­æ³•"}]}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"text","value":"å°½å¯èƒ½é¿å…ä½¿ç”¨ "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"__dirname"}]},{"type":"text","value":" å’Œ "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"__filename"}]},{"type":"text","value":"ã€‚"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-h3","props":{"id":"åˆ é™¤ä¸ç›¸å®¹å’ŒåºŸå¼ƒçš„æ¨¡å—"},"children":[{"type":"element","tag":"prose-a","props":{"href":"#%E5%88%A0%E9%99%A4%E4%B8%8D%E7%9B%B8%E5%AE%B9%E5%92%8C%E5%BA%9F%E5%BC%83%E7%9A%84%E6%A8%A1%E5%9D%97"},"children":[{"type":"text","value":"åˆ é™¤ä¸ç›¸å®¹å’ŒåºŸå¼ƒçš„æ¨¡å—"}]}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-ul","props":{},"children":[{"type":"text","value":"\n"},{"type":"element","tag":"prose-li","props":{},"children":[{"type":"text","value":"\n"},{"type":"text","value":"Remove "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"@nuxt/content"}]},{"type":"text","value":" (1.x). A rewrite for nuxt 3 is planned (2.x)"},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-li","props":{},"children":[{"type":"text","value":"\n"},{"type":"text","value":"Remove "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"nuxt-vite"}]},{"type":"text","value":": Bridge enables same functionality"},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-li","props":{},"children":[{"type":"text","value":"\n"},{"type":"text","value":"Remove "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"@nuxtjs/typescript-build"}]},{"type":"text","value":": Bridge enables same functionality"},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-li","props":{},"children":[{"type":"text","value":"\n"},{"type":"text","value":"Remove "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"@nuxtjs/typescript-runtime"}]},{"type":"text","value":" and "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"nuxt-ts"}]},{"type":"text","value":": Nuxt 2 has built-in runtime support"},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-li","props":{},"children":[{"type":"text","value":"\n"},{"type":"text","value":"Remove "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"@nuxt/nitro"}]},{"type":"text","value":": Bridge injects same functionality"},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-li","props":{},"children":[{"type":"text","value":"\n"},{"type":"text","value":"Remove "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"@nuxtjs/composition-api"}]},{"type":"text","value":": Bridge provides a Nuxt 3 compatible composition-api layer and help to remove dependency"},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-h3","props":{"id":"ç¡®ä¿ä¸€åˆ‡æ­£å¸¸è¿è¡Œ"},"children":[{"type":"element","tag":"prose-a","props":{"href":"#%E7%A1%AE%E4%BF%9D%E4%B8%80%E5%88%87%E6%AD%A3%E5%B8%B8%E8%BF%90%E8%A1%8C"},"children":[{"type":"text","value":"ç¡®ä¿ä¸€åˆ‡æ­£å¸¸è¿è¡Œ"}]}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"text","value":"âœ”ï¸ ä½¿ç”¨ "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"nuxt dev"}]},{"type":"text","value":" å’Œ "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"nuxt build"}]},{"type":"text","value":" (æˆ–è€… "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"nuxt generate"}]},{"type":"text","value":") æ£€æŸ¥ä¸€åˆ‡æ˜¯å¦æ­£å¸¸è¿è¡Œ"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"text","value":"ğŸ› å¦‚æœå‡ºé”™å•¦ï¼Ÿè¯·å‘ŠçŸ¥æˆ‘ä»¬ã€‚æˆ–è€…ï¼Œæ‚¨å¯ä»¥å¾ˆè½»æ¾åœç”¨bridge:"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-code","props":{},"children":[{"type":"element","tag":"span","props":{"className":["filename"]},"children":[{"type":"text","value":"nuxt.config.js"}]},{"type":"element","tag":"pre","props":{"className":["line-numbers","language-ts"]},"children":[{"type":"element","tag":"code","props":{},"children":[{"type":"element","tag":"span","props":{"className":["token","keyword"]},"children":[{"type":"text","value":"import"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":" defineNuxtConfig "},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","keyword"]},"children":[{"type":"text","value":"from"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","string"]},"children":[{"type":"text","value":"'@nuxt/bridge'"}]},{"type":"text","value":"\n\n"},{"type":"element","tag":"span","props":{"className":["token","keyword"]},"children":[{"type":"text","value":"export"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","keyword"]},"children":[{"type":"text","value":"default"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","function"]},"children":[{"type":"text","value":"defineNuxtConfig"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n  bridge"},{"type":"element","tag":"span","props":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","boolean"]},"children":[{"type":"text","value":"false"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","comment"]},"children":[{"type":"text","value":"// Temporarily disable bridge integration"}]},{"type":"text","value":"\n"},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":"\n"}]}]}]}]},"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"å‡çº§nuxt-2","depth":3,"text":"å‡çº§Nuxt 2"},{"id":"å®‰è£…nuxt-bridge","depth":3,"text":"å®‰è£…Nuxt Bridge"},{"id":"æ›´æ–°nuxtconfig","depth":3,"text":"æ›´æ–°nuxt.config"},{"id":"é¿å…ä½¿ç”¨commonjsè¯­æ³•","depth":3,"text":"é¿å…ä½¿ç”¨CommonJSè¯­æ³•"},{"id":"åˆ é™¤ä¸ç›¸å®¹å’ŒåºŸå¼ƒçš„æ¨¡å—","depth":3,"text":"åˆ é™¤ä¸ç›¸å®¹å’ŒåºŸå¼ƒçš„æ¨¡å—"},{"id":"ç¡®ä¿ä¸€åˆ‡æ­£å¸¸è¿è¡Œ","depth":3,"text":"ç¡®ä¿ä¸€åˆ‡æ­£å¸¸è¿è¡Œ"}]}}}