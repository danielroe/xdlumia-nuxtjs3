{"key":"content:1.getting-started:3.bridge.md","generatedAt":"2021-10-13T13:08:12.837Z","mtime":"2021-10-13T13:08:12.811Z","slug":"bridge","title":"Bridge","position":"000100030000","to":"/getting-started/bridge","draft":false,"page":true,"language":"en","empty":false,"description":"在现有Nuxt2上体验Nuxt3的新特性","body":{"raw":"# Bridge\n\n在现有Nuxt2上体验Nuxt3的新特性\n\n::alert\n如果您想新建Nuxt3项目，请跳过此部分并阅读[Nuxt 3 Installation](/getting-started/installation).<br>\n了解更多 [Introduction](/getting-started/introduction).\n::\n\nBridge是向前兼容的，通过简单的安装和启用Nuxt模块，就可以让你体验到很多Nuxt 3的新特性。 \n\n使用Nuxt Bridge, 可确保让您的项目无需大量重写或做风险性变动，几乎就可以准备好Nuxt 3，并且拥有最好的开发体验。\n\n\n### 升级Nuxt 2\n\n删除package锁文件 (`package-lock.json` and `yarn.lock`)并且使用最新的`nuxt-edge`:\n\n**package.json**\n\n```diff\n- \"nuxt\": \"^2.15.0\"\n+ \"nuxt-edge\": \"latest\"\n```\n\n接着，请重装依赖组件：\n\n::code-group\n```bash [Yarn]\nyarn install\n```\n```bash [NPM]\nnpm install\n```\n::\n\n::alert\n如果安装完成，请确保development和production两种环境可以如预期一样运行。\n::\n\n### 安装Nuxt Bridge\n\n安装 `@nuxt/bridge-edge` 作为开发依赖:\n\n::code-group\n```bash [NPM]\nnpm install -D @nuxt/bridge@npm:@nuxt/bridge-edge\n```\n```bash [Yarn]\nyarn add --dev @nuxt/bridge@npm:@nuxt/bridge-edge\n```\n::\n\n### 更新`nuxt.config`\n\n请避免在您的配置文件中使用任何的CommonJS语法，例如 `module.exports`, `require` 或者 `require.resolve` 。因为它已经被弃用且不再支持。\n\n您可以使用静态 `import`, 动态 `import()` 以及 `export default`。使用重命名为`nuxt.config.ts`的TypeScript也是可行的。\n\n```ts [nuxt.config.js]\nimport { defineNuxtConfig } from '@nuxt/bridge'\n\nexport default defineNuxtConfig({\n  // Your existing configuration\n})\n```\n\n### 避免使用CommonJS语法\n\nNuxt 3天然地支持TypeScript和ECMAScript Modules.\n\n#### 更新imports\n\n::code-group\n```js [Before]\nconst lib = require('lib')\n```\n```js [After]\nimport lib from 'lib'\n// or using code-splitting\nconst lib = await import('lib').then(e => e.default || e)\n```\n::\n\n#### 更新exports\n\n::code-group\n```js [Before]\nmodule.exports = ...\n```\n```js [After]\nexport default ...\n// or using named export\nexport const hello = ...\n```\n::\n\n#### 避免使用特殊的CJS语法\n\n尽可能避免使用 `__dirname` 和 `__filename`。\n\n### 删除不相容和废弃的模块\n\n- Remove `@nuxt/content` (1.x). A rewrite for nuxt 3 is planned (2.x)\n- Remove `nuxt-vite`: Bridge enables same functionality\n- Remove `@nuxtjs/typescript-build`: Bridge enables same functionality\n- Remove `@nuxtjs/typescript-runtime` and `nuxt-ts`: Nuxt 2 has built-in runtime support\n- Remove `@nuxt/nitro`: Bridge injects same functionality\n- Remove `@nuxtjs/composition-api`: Bridge provides a Nuxt 3 compatible composition-api layer and help to remove dependency\n\n### 确保一切正常运行\n\n✔️ 使用 `nuxt dev` 和 `nuxt build` (或者 `nuxt generate`) 检查一切是否正常运行\n\n🐛 如果出错啦？请告知我们。或者，您可以很轻松停用bridge:\n\n```ts [nuxt.config.js]\nimport { defineNuxtConfig } from '@nuxt/bridge'\n\nexport default defineNuxtConfig({\n  bridge: false // Temporarily disable bridge integration\n})\n```\n","ast":{"type":"root","children":[{"type":"element","tag":"prose-h1","props":{"class":"d-heading-title","id":"bridge"},"children":[{"type":"text","value":"Bridge"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{"class":"d-heading-description"},"children":[{"type":"text","value":"在现有Nuxt2上体验Nuxt3的新特性"}]},{"type":"text","value":"\n"},{"type":"element","tag":"alert","props":{},"children":[{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"text","value":"如果您想新建Nuxt3项目，请跳过此部分并阅读"},{"type":"element","tag":"prose-a","props":{"href":"/getting-started/installation"},"children":[{"type":"text","value":"Nuxt 3 Installation"}]},{"type":"text","value":"."},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"\n了解更多 "},{"type":"element","tag":"prose-a","props":{"href":"/getting-started/introduction"},"children":[{"type":"text","value":"Introduction"}]},{"type":"text","value":"."}]}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"text","value":"Bridge是向前兼容的，通过简单的安装和启用Nuxt模块，就可以让你体验到很多Nuxt 3的新特性。"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"text","value":"使用Nuxt Bridge, 可确保让您的项目无需大量重写或做风险性变动，几乎就可以准备好Nuxt 3，并且拥有最好的开发体验。"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-h3","props":{"id":"升级nuxt-2"},"children":[{"type":"element","tag":"prose-a","props":{"href":"#%E5%8D%87%E7%BA%A7nuxt-2"},"children":[{"type":"text","value":"升级Nuxt 2"}]}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"text","value":"删除package锁文件 ("},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"package-lock.json"}]},{"type":"text","value":" and "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"yarn.lock"}]},{"type":"text","value":")并且使用最新的"},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"nuxt-edge"}]},{"type":"text","value":":"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"element","tag":"prose-strong","props":{},"children":[{"type":"text","value":"package.json"}]}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-code","props":{},"children":[{"type":"element","tag":"pre","props":{"className":["line-numbers","language-diff"]},"children":[{"type":"element","tag":"code","props":{},"children":[{"type":"element","tag":"span","props":{"className":["token","deleted-sign","deleted"]},"children":[{"type":"element","tag":"span","props":{"className":["token","prefix","deleted"]},"children":[{"type":"text","value":"-"}]},{"type":"element","tag":"span","props":{"className":["token","line"]},"children":[{"type":"text","value":" \"nuxt\": \"^2.15.0\"\n"}]}]},{"type":"element","tag":"span","props":{"className":["token","inserted-sign","inserted"]},"children":[{"type":"element","tag":"span","props":{"className":["token","prefix","inserted"]},"children":[{"type":"text","value":"+"}]},{"type":"element","tag":"span","props":{"className":["token","line"]},"children":[{"type":"text","value":" \"nuxt-edge\": \"latest\"\n"}]}]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"text","value":"接着，请重装依赖组件："}]},{"type":"text","value":"\n"},{"type":"element","tag":"code-group","props":{},"children":[{"type":"element","tag":"prose-code","props":{},"children":[{"type":"element","tag":"span","props":{"className":["filename"]},"children":[{"type":"text","value":"Yarn"}]},{"type":"element","tag":"pre","props":{"className":["line-numbers","language-bash"]},"children":[{"type":"element","tag":"code","props":{},"children":[{"type":"element","tag":"span","props":{"className":["token","function"]},"children":[{"type":"text","value":"yarn"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","function"]},"children":[{"type":"text","value":"install"}]},{"type":"text","value":"\n"}]}]}]},{"type":"element","tag":"prose-code","props":{},"children":[{"type":"element","tag":"span","props":{"className":["filename"]},"children":[{"type":"text","value":"NPM"}]},{"type":"element","tag":"pre","props":{"className":["line-numbers","language-bash"]},"children":[{"type":"element","tag":"code","props":{},"children":[{"type":"element","tag":"span","props":{"className":["token","function"]},"children":[{"type":"text","value":"npm"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","function"]},"children":[{"type":"text","value":"install"}]},{"type":"text","value":"\n"}]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tag":"alert","props":{},"children":[{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"text","value":"如果安装完成，请确保development和production两种环境可以如预期一样运行。"}]}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-h3","props":{"id":"安装nuxt-bridge"},"children":[{"type":"element","tag":"prose-a","props":{"href":"#%E5%AE%89%E8%A3%85nuxt-bridge"},"children":[{"type":"text","value":"安装Nuxt Bridge"}]}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"text","value":"安装 "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"@nuxt/bridge-edge"}]},{"type":"text","value":" 作为开发依赖:"}]},{"type":"text","value":"\n"},{"type":"element","tag":"code-group","props":{},"children":[{"type":"element","tag":"prose-code","props":{},"children":[{"type":"element","tag":"span","props":{"className":["filename"]},"children":[{"type":"text","value":"NPM"}]},{"type":"element","tag":"pre","props":{"className":["line-numbers","language-bash"]},"children":[{"type":"element","tag":"code","props":{},"children":[{"type":"element","tag":"span","props":{"className":["token","function"]},"children":[{"type":"text","value":"npm"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","function"]},"children":[{"type":"text","value":"install"}]},{"type":"text","value":" -D @nuxt/bridge@npm:@nuxt/bridge-edge\n"}]}]}]},{"type":"element","tag":"prose-code","props":{},"children":[{"type":"element","tag":"span","props":{"className":["filename"]},"children":[{"type":"text","value":"Yarn"}]},{"type":"element","tag":"pre","props":{"className":["line-numbers","language-bash"]},"children":[{"type":"element","tag":"code","props":{},"children":[{"type":"element","tag":"span","props":{"className":["token","function"]},"children":[{"type":"text","value":"yarn"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","function"]},"children":[{"type":"text","value":"add"}]},{"type":"text","value":" --dev @nuxt/bridge@npm:@nuxt/bridge-edge\n"}]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-h3","props":{"id":"更新nuxtconfig"},"children":[{"type":"element","tag":"prose-a","props":{"href":"#%E6%9B%B4%E6%96%B0nuxtconfig"},"children":[{"type":"text","value":"更新"},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"nuxt.config"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"text","value":"请避免在您的配置文件中使用任何的CommonJS语法，例如 "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"module.exports"}]},{"type":"text","value":", "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"require"}]},{"type":"text","value":" 或者 "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"require.resolve"}]},{"type":"text","value":" 。因为它已经被弃用且不再支持。"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"text","value":"您可以使用静态 "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"import"}]},{"type":"text","value":", 动态 "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"import()"}]},{"type":"text","value":" 以及 "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"export default"}]},{"type":"text","value":"。使用重命名为"},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"nuxt.config.ts"}]},{"type":"text","value":"的TypeScript也是可行的。"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-code","props":{},"children":[{"type":"element","tag":"span","props":{"className":["filename"]},"children":[{"type":"text","value":"nuxt.config.js"}]},{"type":"element","tag":"pre","props":{"className":["line-numbers","language-ts"]},"children":[{"type":"element","tag":"code","props":{},"children":[{"type":"element","tag":"span","props":{"className":["token","keyword"]},"children":[{"type":"text","value":"import"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":" defineNuxtConfig "},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","keyword"]},"children":[{"type":"text","value":"from"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","string"]},"children":[{"type":"text","value":"'@nuxt/bridge'"}]},{"type":"text","value":"\n\n"},{"type":"element","tag":"span","props":{"className":["token","keyword"]},"children":[{"type":"text","value":"export"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","keyword"]},"children":[{"type":"text","value":"default"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","function"]},"children":[{"type":"text","value":"defineNuxtConfig"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n  "},{"type":"element","tag":"span","props":{"className":["token","comment"]},"children":[{"type":"text","value":"// Your existing configuration"}]},{"type":"text","value":"\n"},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":"\n"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-h3","props":{"id":"避免使用commonjs语法"},"children":[{"type":"element","tag":"prose-a","props":{"href":"#%E9%81%BF%E5%85%8D%E4%BD%BF%E7%94%A8commonjs%E8%AF%AD%E6%B3%95"},"children":[{"type":"text","value":"避免使用CommonJS语法"}]}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"text","value":"Nuxt 3天然地支持TypeScript和ECMAScript Modules."}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-h4","props":{"id":"更新imports"},"children":[{"type":"element","tag":"prose-a","props":{"href":"#%E6%9B%B4%E6%96%B0imports"},"children":[{"type":"text","value":"更新imports"}]}]},{"type":"text","value":"\n"},{"type":"element","tag":"code-group","props":{},"children":[{"type":"element","tag":"prose-code","props":{},"children":[{"type":"element","tag":"span","props":{"className":["filename"]},"children":[{"type":"text","value":"Before"}]},{"type":"element","tag":"pre","props":{"className":["line-numbers","language-js"]},"children":[{"type":"element","tag":"code","props":{},"children":[{"type":"element","tag":"span","props":{"className":["token","keyword"]},"children":[{"type":"text","value":"const"}]},{"type":"text","value":" lib "},{"type":"element","tag":"span","props":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","function"]},"children":[{"type":"text","value":"require"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"className":["token","string"]},"children":[{"type":"text","value":"'lib'"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":"\n"}]}]}]},{"type":"element","tag":"prose-code","props":{},"children":[{"type":"element","tag":"span","props":{"className":["filename"]},"children":[{"type":"text","value":"After"}]},{"type":"element","tag":"pre","props":{"className":["line-numbers","language-js"]},"children":[{"type":"element","tag":"code","props":{},"children":[{"type":"element","tag":"span","props":{"className":["token","keyword","module"]},"children":[{"type":"text","value":"import"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","imports"]},"children":[{"type":"text","value":"lib"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","keyword","module"]},"children":[{"type":"text","value":"from"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","string"]},"children":[{"type":"text","value":"'lib'"}]},{"type":"text","value":"\n"},{"type":"element","tag":"span","props":{"className":["token","comment"]},"children":[{"type":"text","value":"// or using code-splitting"}]},{"type":"text","value":"\n"},{"type":"element","tag":"span","props":{"className":["token","keyword"]},"children":[{"type":"text","value":"const"}]},{"type":"text","value":" lib "},{"type":"element","tag":"span","props":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","keyword","control-flow"]},"children":[{"type":"text","value":"await"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","keyword","module"]},"children":[{"type":"text","value":"import"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"className":["token","string"]},"children":[{"type":"text","value":"'lib'"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"className":["token","method","function","property-access"]},"children":[{"type":"text","value":"then"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"className":["token","parameter"]},"children":[{"type":"text","value":"e"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","arrow","operator"]},"children":[{"type":"text","value":"=>"}]},{"type":"text","value":" e"},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"className":["token","keyword","module"]},"children":[{"type":"text","value":"default"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","operator"]},"children":[{"type":"text","value":"||"}]},{"type":"text","value":" e"},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":"\n"}]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-h4","props":{"id":"更新exports"},"children":[{"type":"element","tag":"prose-a","props":{"href":"#%E6%9B%B4%E6%96%B0exports"},"children":[{"type":"text","value":"更新exports"}]}]},{"type":"text","value":"\n"},{"type":"element","tag":"code-group","props":{},"children":[{"type":"element","tag":"prose-code","props":{},"children":[{"type":"element","tag":"span","props":{"className":["filename"]},"children":[{"type":"text","value":"Before"}]},{"type":"element","tag":"pre","props":{"className":["line-numbers","language-js"]},"children":[{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"module"},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"className":["token","property-access"]},"children":[{"type":"text","value":"exports"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","spread","operator"]},"children":[{"type":"text","value":"..."}]},{"type":"text","value":"\n"}]}]}]},{"type":"element","tag":"prose-code","props":{},"children":[{"type":"element","tag":"span","props":{"className":["filename"]},"children":[{"type":"text","value":"After"}]},{"type":"element","tag":"pre","props":{"className":["line-numbers","language-js"]},"children":[{"type":"element","tag":"code","props":{},"children":[{"type":"element","tag":"span","props":{"className":["token","keyword","module"]},"children":[{"type":"text","value":"export"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","keyword","module"]},"children":[{"type":"text","value":"default"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","spread","operator"]},"children":[{"type":"text","value":"..."}]},{"type":"text","value":"\n"},{"type":"element","tag":"span","props":{"className":["token","comment"]},"children":[{"type":"text","value":"// or using named export"}]},{"type":"text","value":"\n"},{"type":"element","tag":"span","props":{"className":["token","keyword","module"]},"children":[{"type":"text","value":"export"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","keyword"]},"children":[{"type":"text","value":"const"}]},{"type":"text","value":" hello "},{"type":"element","tag":"span","props":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","spread","operator"]},"children":[{"type":"text","value":"..."}]},{"type":"text","value":"\n"}]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-h4","props":{"id":"避免使用特殊的cjs语法"},"children":[{"type":"element","tag":"prose-a","props":{"href":"#%E9%81%BF%E5%85%8D%E4%BD%BF%E7%94%A8%E7%89%B9%E6%AE%8A%E7%9A%84cjs%E8%AF%AD%E6%B3%95"},"children":[{"type":"text","value":"避免使用特殊的CJS语法"}]}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"text","value":"尽可能避免使用 "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"__dirname"}]},{"type":"text","value":" 和 "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"__filename"}]},{"type":"text","value":"。"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-h3","props":{"id":"删除不相容和废弃的模块"},"children":[{"type":"element","tag":"prose-a","props":{"href":"#%E5%88%A0%E9%99%A4%E4%B8%8D%E7%9B%B8%E5%AE%B9%E5%92%8C%E5%BA%9F%E5%BC%83%E7%9A%84%E6%A8%A1%E5%9D%97"},"children":[{"type":"text","value":"删除不相容和废弃的模块"}]}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-ul","props":{},"children":[{"type":"text","value":"\n"},{"type":"element","tag":"prose-li","props":{},"children":[{"type":"text","value":"\n"},{"type":"text","value":"Remove "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"@nuxt/content"}]},{"type":"text","value":" (1.x). A rewrite for nuxt 3 is planned (2.x)"},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-li","props":{},"children":[{"type":"text","value":"\n"},{"type":"text","value":"Remove "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"nuxt-vite"}]},{"type":"text","value":": Bridge enables same functionality"},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-li","props":{},"children":[{"type":"text","value":"\n"},{"type":"text","value":"Remove "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"@nuxtjs/typescript-build"}]},{"type":"text","value":": Bridge enables same functionality"},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-li","props":{},"children":[{"type":"text","value":"\n"},{"type":"text","value":"Remove "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"@nuxtjs/typescript-runtime"}]},{"type":"text","value":" and "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"nuxt-ts"}]},{"type":"text","value":": Nuxt 2 has built-in runtime support"},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-li","props":{},"children":[{"type":"text","value":"\n"},{"type":"text","value":"Remove "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"@nuxt/nitro"}]},{"type":"text","value":": Bridge injects same functionality"},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-li","props":{},"children":[{"type":"text","value":"\n"},{"type":"text","value":"Remove "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"@nuxtjs/composition-api"}]},{"type":"text","value":": Bridge provides a Nuxt 3 compatible composition-api layer and help to remove dependency"},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-h3","props":{"id":"确保一切正常运行"},"children":[{"type":"element","tag":"prose-a","props":{"href":"#%E7%A1%AE%E4%BF%9D%E4%B8%80%E5%88%87%E6%AD%A3%E5%B8%B8%E8%BF%90%E8%A1%8C"},"children":[{"type":"text","value":"确保一切正常运行"}]}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"text","value":"✔️ 使用 "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"nuxt dev"}]},{"type":"text","value":" 和 "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"nuxt build"}]},{"type":"text","value":" (或者 "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"nuxt generate"}]},{"type":"text","value":") 检查一切是否正常运行"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"text","value":"🐛 如果出错啦？请告知我们。或者，您可以很轻松停用bridge:"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-code","props":{},"children":[{"type":"element","tag":"span","props":{"className":["filename"]},"children":[{"type":"text","value":"nuxt.config.js"}]},{"type":"element","tag":"pre","props":{"className":["line-numbers","language-ts"]},"children":[{"type":"element","tag":"code","props":{},"children":[{"type":"element","tag":"span","props":{"className":["token","keyword"]},"children":[{"type":"text","value":"import"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":" defineNuxtConfig "},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","keyword"]},"children":[{"type":"text","value":"from"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","string"]},"children":[{"type":"text","value":"'@nuxt/bridge'"}]},{"type":"text","value":"\n\n"},{"type":"element","tag":"span","props":{"className":["token","keyword"]},"children":[{"type":"text","value":"export"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","keyword"]},"children":[{"type":"text","value":"default"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","function"]},"children":[{"type":"text","value":"defineNuxtConfig"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n  bridge"},{"type":"element","tag":"span","props":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","boolean"]},"children":[{"type":"text","value":"false"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","comment"]},"children":[{"type":"text","value":"// Temporarily disable bridge integration"}]},{"type":"text","value":"\n"},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":"\n"}]}]}]}]},"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"升级nuxt-2","depth":3,"text":"升级Nuxt 2"},{"id":"安装nuxt-bridge","depth":3,"text":"安装Nuxt Bridge"},{"id":"更新nuxtconfig","depth":3,"text":"更新nuxt.config"},{"id":"避免使用commonjs语法","depth":3,"text":"避免使用CommonJS语法"},{"id":"删除不相容和废弃的模块","depth":3,"text":"删除不相容和废弃的模块"},{"id":"确保一切正常运行","depth":3,"text":"确保一切正常运行"}]}}}