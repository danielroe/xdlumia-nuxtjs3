{"key":"content:3.docs:3.deployment:3.firebase.md","generatedAt":"2021-10-13T13:08:13.097Z","mtime":"2021-10-13T13:08:13.081Z","slug":"firebase","title":"Firebase Hosting","position":"000300030003","to":"/docs/deployment/firebase","draft":false,"page":true,"language":"en","icon":"LogoFirebase","empty":false,"description":"How to deploy Nuxt to Firebase Hosting.","body":{"raw":"---\nicon: LogoFirebase\n---\n\n# Firebase Hosting\n\nHow to deploy Nuxt to Firebase Hosting.\n\n::list\n- Support for serverless build\n- Minimal configuration required\n::\n\n## Setup\n\nNitro supports [Firebase Hosting](https://firebase.google.com/docs/hosting) with Cloud Functions out of the box.\n\n**Note**: You will need to be on the **Blaze plan** in order to use Nitro with Cloud Functions.\n\n### Using Nitro\n\nIf you don't already have a `firebase.json` in your root directory, Nitro will create one the first time you run it. All you will need to do is edit this to replace `<your_project_id>` with the project ID that you have chosen on Firebase.\n\nThis file should then be committed to version control. You can also create a `.firebaserc` file if you don't want to manually pass your project ID to your `firebase` commands (with `--project <your_project_id>):\n```json [.firebaserc]\n{\n  \"projects\": {\n    \"default\": \"<your_project_id>\"\n  }\n}\n```\n\nThen, just add Firebase dependencies to your project:\n\n::code-group\n```bash [Yarn]\nyarn add --dev firebase-admin firebase-functions firebase-functions-test\n```\n```bash [NPM]\nnpm install -D firebase-admin firebase-functions firebase-functions-test\n```\n::\n\n### Using Firebase CLI\n\nYou may instead prefer to set up your project with the `firebase` CLI, which will fetch your project ID for you, add required dependencies (see above) and even set up automated deployments via GitHub Actions.\n\n#### Install firebase CLI globally\n\n::code-group\n```bash [Yarn]\nyarn global install firebase-tools\n```\n```bash [NPM]\nnpm install -g firebase-tools\n```\n::\n\n#### Initialize your firebase project\n\n```bash\nfirebase login\nfirebase init hosting\n```\n\nWhen prompted, you can enter `.output/public` as the public directory. **Don't** select that this will be a single-page app.\n\nOnce complete, add the following to your `firebase.json` to enable server rendering in Cloud Functions:\n```json [firebase.json]\n{\n  \"functions\": { \"source\": \".output/server\" },\n  \"hosting\": [\n    {\n      \"site\": \"<your_project_id>\",\n      \"public\": \".output/public\",\n      \"cleanUrls\": true,\n      \"rewrites\": [{ \"source\": \"**\", \"function\": \"server\" }]\n    }\n  ]\n}\n```\n\nYou can find more details in the [Firebase documentation](https://firebase.google.com/docs/hosting/quickstart).\n\n## Local preview\n\nYou can preview a local version of your site if you need to test things out without deploying.\n\n```bash\nNITRO_PRESET=firebase yarn build\nfirebase emulators:start\n```\n\n## Deploy to Firebase Hosting via CLI\n\nDeploying to Firebase Hosting is a simple matter of just running the `firebase deploy` command.\n\n```bash\nNITRO_PRESET=firebase yarn build\nfirebase deploy\n```\n\n## Demo site\n\nA live demo is available on https://nitro-demo-dfabe.web.app\n","ast":{"type":"root","children":[{"type":"element","tag":"prose-h1","props":{"class":"d-heading-title","id":"firebase-hosting"},"children":[{"type":"text","value":"Firebase Hosting"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{"class":"d-heading-description"},"children":[{"type":"text","value":"How to deploy Nuxt to Firebase Hosting."}]},{"type":"text","value":"\n"},{"type":"element","tag":"list","props":{},"children":[{"type":"element","tag":"prose-ul","props":{},"children":[{"type":"text","value":"\n"},{"type":"element","tag":"prose-li","props":{},"children":[{"type":"text","value":"\n"},{"type":"text","value":"Support for serverless build"},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-li","props":{},"children":[{"type":"text","value":"\n"},{"type":"text","value":"Minimal configuration required"},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-h2","props":{"id":"setup"},"children":[{"type":"element","tag":"prose-a","props":{"href":"#setup"},"children":[{"type":"text","value":"Setup"}]}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"text","value":"Nitro supports "},{"type":"element","tag":"prose-a","props":{"href":"https://firebase.google.com/docs/hosting","rel":["nofollow","noopener","noreferrer"],"target":"_blank"},"children":[{"type":"text","value":"Firebase Hosting"}]},{"type":"text","value":" with Cloud Functions out of the box."}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"element","tag":"prose-strong","props":{},"children":[{"type":"text","value":"Note"}]},{"type":"text","value":": You will need to be on the "},{"type":"element","tag":"prose-strong","props":{},"children":[{"type":"text","value":"Blaze plan"}]},{"type":"text","value":" in order to use Nitro with Cloud Functions."}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-h3","props":{"id":"using-nitro"},"children":[{"type":"element","tag":"prose-a","props":{"href":"#using-nitro"},"children":[{"type":"text","value":"Using Nitro"}]}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"text","value":"If you don't already have a "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"firebase.json"}]},{"type":"text","value":" in your root directory, Nitro will create one the first time you run it. All you will need to do is edit this to replace "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"<your_project_id>"}]},{"type":"text","value":" with the project ID that you have chosen on Firebase."}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"text","value":"This file should then be committed to version control. You can also create a "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":".firebaserc"}]},{"type":"text","value":" file if you don't want to manually pass your project ID to your "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"firebase"}]},{"type":"text","value":" commands (with `--project <your_project_id>):"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-code","props":{},"children":[{"type":"element","tag":"span","props":{"className":["filename"]},"children":[{"type":"text","value":".firebaserc"}]},{"type":"element","tag":"pre","props":{"className":["line-numbers","language-json"]},"children":[{"type":"element","tag":"code","props":{},"children":[{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n  "},{"type":"element","tag":"span","props":{"className":["token","property"]},"children":[{"type":"text","value":"\"projects\""}]},{"type":"element","tag":"span","props":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n    "},{"type":"element","tag":"span","props":{"className":["token","property"]},"children":[{"type":"text","value":"\"default\""}]},{"type":"element","tag":"span","props":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","string"]},"children":[{"type":"text","value":"\"<your_project_id>\""}]},{"type":"text","value":"\n  "},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"text","value":"\n"},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"text","value":"\n"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"text","value":"Then, just add Firebase dependencies to your project:"}]},{"type":"text","value":"\n"},{"type":"element","tag":"code-group","props":{},"children":[{"type":"element","tag":"prose-code","props":{},"children":[{"type":"element","tag":"span","props":{"className":["filename"]},"children":[{"type":"text","value":"Yarn"}]},{"type":"element","tag":"pre","props":{"className":["line-numbers","language-bash"]},"children":[{"type":"element","tag":"code","props":{},"children":[{"type":"element","tag":"span","props":{"className":["token","function"]},"children":[{"type":"text","value":"yarn"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","function"]},"children":[{"type":"text","value":"add"}]},{"type":"text","value":" --dev firebase-admin firebase-functions firebase-functions-test\n"}]}]}]},{"type":"element","tag":"prose-code","props":{},"children":[{"type":"element","tag":"span","props":{"className":["filename"]},"children":[{"type":"text","value":"NPM"}]},{"type":"element","tag":"pre","props":{"className":["line-numbers","language-bash"]},"children":[{"type":"element","tag":"code","props":{},"children":[{"type":"element","tag":"span","props":{"className":["token","function"]},"children":[{"type":"text","value":"npm"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","function"]},"children":[{"type":"text","value":"install"}]},{"type":"text","value":" -D firebase-admin firebase-functions firebase-functions-test\n"}]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-h3","props":{"id":"using-firebase-cli"},"children":[{"type":"element","tag":"prose-a","props":{"href":"#using-firebase-cli"},"children":[{"type":"text","value":"Using Firebase CLI"}]}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"text","value":"You may instead prefer to set up your project with the "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"firebase"}]},{"type":"text","value":" CLI, which will fetch your project ID for you, add required dependencies (see above) and even set up automated deployments via GitHub Actions."}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-h4","props":{"id":"install-firebase-cli-globally"},"children":[{"type":"element","tag":"prose-a","props":{"href":"#install-firebase-cli-globally"},"children":[{"type":"text","value":"Install firebase CLI globally"}]}]},{"type":"text","value":"\n"},{"type":"element","tag":"code-group","props":{},"children":[{"type":"element","tag":"prose-code","props":{},"children":[{"type":"element","tag":"span","props":{"className":["filename"]},"children":[{"type":"text","value":"Yarn"}]},{"type":"element","tag":"pre","props":{"className":["line-numbers","language-bash"]},"children":[{"type":"element","tag":"code","props":{},"children":[{"type":"element","tag":"span","props":{"className":["token","function"]},"children":[{"type":"text","value":"yarn"}]},{"type":"text","value":" global "},{"type":"element","tag":"span","props":{"className":["token","function"]},"children":[{"type":"text","value":"install"}]},{"type":"text","value":" firebase-tools\n"}]}]}]},{"type":"element","tag":"prose-code","props":{},"children":[{"type":"element","tag":"span","props":{"className":["filename"]},"children":[{"type":"text","value":"NPM"}]},{"type":"element","tag":"pre","props":{"className":["line-numbers","language-bash"]},"children":[{"type":"element","tag":"code","props":{},"children":[{"type":"element","tag":"span","props":{"className":["token","function"]},"children":[{"type":"text","value":"npm"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","function"]},"children":[{"type":"text","value":"install"}]},{"type":"text","value":" -g firebase-tools\n"}]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-h4","props":{"id":"initialize-your-firebase-project"},"children":[{"type":"element","tag":"prose-a","props":{"href":"#initialize-your-firebase-project"},"children":[{"type":"text","value":"Initialize your firebase project"}]}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-code","props":{},"children":[{"type":"element","tag":"pre","props":{"className":["line-numbers","language-bash"]},"children":[{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"firebase login\nfirebase init hosting\n"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"text","value":"When prompted, you can enter "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":".output/public"}]},{"type":"text","value":" as the public directory. "},{"type":"element","tag":"prose-strong","props":{},"children":[{"type":"text","value":"Don't"}]},{"type":"text","value":" select that this will be a single-page app."}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"text","value":"Once complete, add the following to your "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"firebase.json"}]},{"type":"text","value":" to enable server rendering in Cloud Functions:"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-code","props":{},"children":[{"type":"element","tag":"span","props":{"className":["filename"]},"children":[{"type":"text","value":"firebase.json"}]},{"type":"element","tag":"pre","props":{"className":["line-numbers","language-json"]},"children":[{"type":"element","tag":"code","props":{},"children":[{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n  "},{"type":"element","tag":"span","props":{"className":["token","property"]},"children":[{"type":"text","value":"\"functions\""}]},{"type":"element","tag":"span","props":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","property"]},"children":[{"type":"text","value":"\"source\""}]},{"type":"element","tag":"span","props":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","string"]},"children":[{"type":"text","value":"\".output/server\""}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n  "},{"type":"element","tag":"span","props":{"className":["token","property"]},"children":[{"type":"text","value":"\"hosting\""}]},{"type":"element","tag":"span","props":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"["}]},{"type":"text","value":"\n    "},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n      "},{"type":"element","tag":"span","props":{"className":["token","property"]},"children":[{"type":"text","value":"\"site\""}]},{"type":"element","tag":"span","props":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","string"]},"children":[{"type":"text","value":"\"<your_project_id>\""}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n      "},{"type":"element","tag":"span","props":{"className":["token","property"]},"children":[{"type":"text","value":"\"public\""}]},{"type":"element","tag":"span","props":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","string"]},"children":[{"type":"text","value":"\".output/public\""}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n      "},{"type":"element","tag":"span","props":{"className":["token","property"]},"children":[{"type":"text","value":"\"cleanUrls\""}]},{"type":"element","tag":"span","props":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","boolean"]},"children":[{"type":"text","value":"true"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n      "},{"type":"element","tag":"span","props":{"className":["token","property"]},"children":[{"type":"text","value":"\"rewrites\""}]},{"type":"element","tag":"span","props":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"["}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","property"]},"children":[{"type":"text","value":"\"source\""}]},{"type":"element","tag":"span","props":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","string"]},"children":[{"type":"text","value":"\"**\""}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","property"]},"children":[{"type":"text","value":"\"function\""}]},{"type":"element","tag":"span","props":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","string"]},"children":[{"type":"text","value":"\"server\""}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"]"}]},{"type":"text","value":"\n    "},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"text","value":"\n  "},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"]"}]},{"type":"text","value":"\n"},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"text","value":"\n"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"text","value":"You can find more details in the "},{"type":"element","tag":"prose-a","props":{"href":"https://firebase.google.com/docs/hosting/quickstart","rel":["nofollow","noopener","noreferrer"],"target":"_blank"},"children":[{"type":"text","value":"Firebase documentation"}]},{"type":"text","value":"."}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-h2","props":{"id":"local-preview"},"children":[{"type":"element","tag":"prose-a","props":{"href":"#local-preview"},"children":[{"type":"text","value":"Local preview"}]}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"text","value":"You can preview a local version of your site if you need to test things out without deploying."}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-code","props":{},"children":[{"type":"element","tag":"pre","props":{"className":["line-numbers","language-bash"]},"children":[{"type":"element","tag":"code","props":{},"children":[{"type":"element","tag":"span","props":{"className":["token","assign-left","variable"]},"children":[{"type":"text","value":"NITRO_PRESET"}]},{"type":"element","tag":"span","props":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":"firebase "},{"type":"element","tag":"span","props":{"className":["token","function"]},"children":[{"type":"text","value":"yarn"}]},{"type":"text","value":" build\nfirebase emulators:start\n"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-h2","props":{"id":"deploy-to-firebase-hosting-via-cli"},"children":[{"type":"element","tag":"prose-a","props":{"href":"#deploy-to-firebase-hosting-via-cli"},"children":[{"type":"text","value":"Deploy to Firebase Hosting via CLI"}]}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"text","value":"Deploying to Firebase Hosting is a simple matter of just running the "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"firebase deploy"}]},{"type":"text","value":" command."}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-code","props":{},"children":[{"type":"element","tag":"pre","props":{"className":["line-numbers","language-bash"]},"children":[{"type":"element","tag":"code","props":{},"children":[{"type":"element","tag":"span","props":{"className":["token","assign-left","variable"]},"children":[{"type":"text","value":"NITRO_PRESET"}]},{"type":"element","tag":"span","props":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":"firebase "},{"type":"element","tag":"span","props":{"className":["token","function"]},"children":[{"type":"text","value":"yarn"}]},{"type":"text","value":" build\nfirebase deploy\n"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-h2","props":{"id":"demo-site"},"children":[{"type":"element","tag":"prose-a","props":{"href":"#demo-site"},"children":[{"type":"text","value":"Demo site"}]}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"text","value":"A live demo is available on "},{"type":"element","tag":"prose-a","props":{"href":"https://nitro-demo-dfabe.web.app","rel":["nofollow","noopener","noreferrer"],"target":"_blank"},"children":[{"type":"text","value":"https://nitro-demo-dfabe.web.app"}]}]}]},"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"setup","depth":2,"text":"Setup","children":[{"id":"using-nitro","depth":3,"text":"Using Nitro"},{"id":"using-firebase-cli","depth":3,"text":"Using Firebase CLI"}]},{"id":"local-preview","depth":2,"text":"Local preview"},{"id":"deploy-to-firebase-hosting-via-cli","depth":2,"text":"Deploy to Firebase Hosting via CLI"},{"id":"demo-site","depth":2,"text":"Demo site"}]}}}