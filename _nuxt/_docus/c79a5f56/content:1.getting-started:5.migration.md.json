{"key":"content:1.getting-started:5.migration.md","generatedAt":"2021-10-13T13:08:12.877Z","mtime":"2021-10-13T13:08:12.859Z","slug":"migration","title":"è¿ç§»","position":"000100050000","to":"/getting-started/migration","draft":false,"page":true,"language":"en","empty":false,"description":"Nuxt 3 è¿ç§»æŒ‡å—ã€‚å·¥ä½œæ­£åœ¨è¿›è¡Œä¸­ ğŸš§","body":{"raw":"# è¿ç§»\n\nNuxt 3 è¿ç§»æŒ‡å—ã€‚å·¥ä½œæ­£åœ¨è¿›è¡Œä¸­ ğŸš§\n\n## Nuxt 2 to Nuxt 3\n\nç›®å‰ï¼Œæ²¡æœ‰ Nuxt 2 åˆ° Nuxt 3 è¿ç§»æŒ‡å—ï¼Œä¹Ÿä¸æ¨èä½¿ç”¨ï¼Œå› ä¸ºå¯èƒ½ä¼šæœ‰æ›´å¤šå˜åŒ–ã€‚æˆ‘ä»¬æ­£åœ¨åŠªåŠ›æä¾›ç¨³å®šçš„è¿ç§»æŒ‡å—å’Œå·¥å…·ï¼Œä»¥ä½¿å…¶å°½å¯èƒ½é¡ºåˆ©ã€‚è¯·æ£€æŸ¥[Bridge](/getting-started/bridge) ä»¥è·å–æ›¿ä»£æ–¹æ¡ˆã€‚\n\nNuxt 2 åˆ é™¤äº†ä¸€äº›åŠŸèƒ½ï¼Œä¸€äº›åŠŸèƒ½å°šæœªåœ¨ Nuxt 3 ä¸­å®ç°ï¼Œè¿˜æœ‰ä¸€äº›æ˜¯ Nuxt 3ï¼ˆå’Œ Bridgeï¼‰ä¸­çš„æ–°åŠŸèƒ½ã€‚\n\né™¤äº† Nuxt Bridge çš„è¦æ±‚ä¹‹å¤–ï¼ŒNuxt 3 çš„æ˜¾ç€å’Œ/æˆ–é‡å¤§æ›´æ”¹åŒ…æ‹¬ï¼š\n\n::list{type=warning}\n- Vue åº”ç”¨ç¨‹åºæ¨¡æ¿è¢«é‡å†™\n- Vue å‡çº§ä¸º `3.x`\n- ä½¿ç”¨ `<Suspense>` è¿›è¡Œå¼‚æ­¥æ•°æ®è¯»å–\n- Webpack `5.x` (å¦‚æœä¸ä½¿ç”¨ `vite`)\n- é‡æ–°è‡ªåŠ¨è·å–ç»„ä»¶\n- å¼•å…¥ä¸»è¦ç»„ä»¶ [`app.vue`](/docs/directory-structure/app)\n- å¼•å…¥æ–°çš„ [`layouts` ç³»ç»Ÿ](/docs/directory-structure/layouts)\n- [`pages/` ç›®å½•](/docs/directory-structure/pages) conventions changed\n::\n\nä¸‹é¢çš„è¡¨æ˜¯ä¸€ä¸ªæ•´ä½“ç‰¹å¾æ¯”è¾ƒ:\n\nåŠŸèƒ½ / ç‰ˆæœ¬         | Nuxt 2  | Nuxt 3   | éœ€è¦æ›´æ”¹\n--------------------------|---------|----------|------------------\nVue ç‰ˆæœ¬               | 2       | 3        | Yes\n`app.vue`                 | âŒ      | âœ…        | -\nAssets                    | âœ…      | âœ…        | No\nComponents                | âœ…      | âœ…        | No\nLayouts                   | âœ…      | âœ…        | Yes\nError Pages               | âœ…      | ğŸš§        | Yes\nPages                     | âœ…      | âœ…        | Yes\nPages: Dynamic Params     | âœ…      | âœ…        | Yes\nPages: _.vue              | âœ…      | âœ…        | No\nPlugins                   | âœ…      | âœ…        | Yes (compatible by default)\nStore                     | âœ…      | ğŸš§        | Yes\nTransitions               | âœ…      | ğŸš§        | ?\nSuspense                  | âŒ      | âœ…        | -\nOptions API: `asyncData`  | âœ…      | ğŸš§        | ?\nOptions API: `fetch`      | âœ…      | ğŸš§        | ?\n\n### æ¨¡å—å…¼å®¹æ€§\n\nAll Nuxt 2 modules should be forward compatible with Nuxt 3 as long as they migrate to bridge or if they are already following guidelines.\n\nAll (upcoming) modules made with `@nuxt/kit` should be backward compatible with Nuxt 2 projects (even without bridge) as long as they are not depending on a Nuxt 3 / Bridge-only feature.\n\n### æ’ä»¶å…¼å®¹æ€§\n\nMost Nuxt 2 plugins should be forward compatible with Nuxt 3 with a magical compat layer we inject.\n\nNuxt 3 plugins are **not** backward compatible with Nuxt 2.\n\n### Vue å…¼å®¹æ€§\n\nå¯¹äºä½¿ç”¨ç»„åˆ composition API or components, it needs exclusive Vue 2 or Vue 3 support.\n\nBy using [vue-demi](https://github.com/vueuse/vue-demi) they should be compatible with both Nuxt 2 and 3.\n\n## Module Migration\n\nWhen Nuxt 3 users add your module, a compatible module container layer from `@nuxt/kit` is **automatically injected**, so as long as your code is following the guidelines below, it should continue working as-is.\n\n### Test with `@nuxt/bridge`\n\nMigrating to `@nuxt/bridge` is the first and most important step for supporting Nuxt 3.\n\nIf you have a fixture or example in your module, add `@nuxt/bridge` package to its config (see [example](/getting-started/bridge#update-nuxtconfig))\n\n### Avoid CommonJS syntax\n\nNuxt 3 natively supports TypeScript and ECMAScript Modules.\n\n#### Update the imports\n\n::code-group\n```js [Before]\nconst lib = require('lib')\n```\n```js [After]\nimport lib from 'lib'\n// or using code-splitting\nconst lib = await import('lib').then(e => e.default || e)\n```\n::\n\n#### Update the exports\n\n::code-group\n```js [Before]\nmodule.exports = ...\n```\n```js [After]\nexport default ...\n// or using named export\nexport const hello = ...\n```\n::\n\n#### Avoid using specific CJS syntax\n\nAvoid the usage of `__dirname` and `__filename` as much as possible.\n\n### Ensure plugins default export\n\nIf you inject a Nuxt plugin that does not have `export default` (such as global Vue plugins), ensure you add `export default {}` to the end of it.\n\n::code-group\n```js [Before]\n// ~/plugins/vuelidate.js\nimport Vue from 'vue'\nimport Vuelidate from 'vuelidate'\n\nVue.use(Vuelidate)\n```\n```js [After]\n// ~/plugins/vuelidate.js\nimport Vue from 'vue'\nimport Vuelidate from 'vuelidate'\n\nVue.use(Vuelidate)\n\nexport default {}\n```\n::\n\n### Avoid runtime modules\n\nWith Nuxt 3, Nuxt is now a build-time-only dependency, which means that modules shouldn't attempt to hook into the Nuxt runtime.\n\nYour module needs should work even if it's only added to [`buildModules`](/docs/directory-structure/nuxt.config#buildmodules) (instead of `modules`). For example:\n\n- Avoid updating `process.env` within a Nuxt module and reading by a nuxt plugin; use [`runtimeConfig`](/docs/directory-structure/nuxt.config#publicruntimeconfig) instead.\n- (*) Avoid depending on runtime hooks like `vue-renderer:*` for production\n- (*) Avoid adding `serverMiddleware` by importing them inside module. Instead, add them by referencing a file path so that they are independent of module context\n\n(*) Unless it is for `nuxt dev` purpose only and guarded with `if (nuxt.options.dev) { }`.\n\n### Add module meta\n\nEnsure your module is exporting meta object.\n\n\\[TODO\\]\n\n### Use TypeScript (optional)\n\nWhile it is not essential, most of the Nuxt ecosystem is shifting to use TypeScript, so it is highly recommended to consider migration.\n\n::alert{icon=ğŸ’¡}\nYou can start migration by simply renaming `.js` files, to `.ts`. TypeScript is designed to be progressive!\n::\n\n::alert{icon=ğŸ’¡}\nYou can use TypeScript syntax for Nuxt 2 and 3 modules and plugins without any extra dependencies.\n::\n","ast":{"type":"root","children":[{"type":"element","tag":"prose-h1","props":{"class":"d-heading-title","id":"è¿ç§»"},"children":[{"type":"text","value":"è¿ç§»"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{"class":"d-heading-description"},"children":[{"type":"text","value":"Nuxt 3 è¿ç§»æŒ‡å—ã€‚å·¥ä½œæ­£åœ¨è¿›è¡Œä¸­ ğŸš§"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-h2","props":{"id":"nuxt-2-to-nuxt-3"},"children":[{"type":"element","tag":"prose-a","props":{"href":"#nuxt-2-to-nuxt-3"},"children":[{"type":"text","value":"Nuxt 2 to Nuxt 3"}]}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"text","value":"ç›®å‰ï¼Œæ²¡æœ‰ Nuxt 2 åˆ° Nuxt 3 è¿ç§»æŒ‡å—ï¼Œä¹Ÿä¸æ¨èä½¿ç”¨ï¼Œå› ä¸ºå¯èƒ½ä¼šæœ‰æ›´å¤šå˜åŒ–ã€‚æˆ‘ä»¬æ­£åœ¨åŠªåŠ›æä¾›ç¨³å®šçš„è¿ç§»æŒ‡å—å’Œå·¥å…·ï¼Œä»¥ä½¿å…¶å°½å¯èƒ½é¡ºåˆ©ã€‚è¯·æ£€æŸ¥"},{"type":"element","tag":"prose-a","props":{"href":"/getting-started/bridge"},"children":[{"type":"text","value":"Bridge"}]},{"type":"text","value":" ä»¥è·å–æ›¿ä»£æ–¹æ¡ˆã€‚"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"text","value":"Nuxt 2 åˆ é™¤äº†ä¸€äº›åŠŸèƒ½ï¼Œä¸€äº›åŠŸèƒ½å°šæœªåœ¨ Nuxt 3 ä¸­å®ç°ï¼Œè¿˜æœ‰ä¸€äº›æ˜¯ Nuxt 3ï¼ˆå’Œ Bridgeï¼‰ä¸­çš„æ–°åŠŸèƒ½ã€‚"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"text","value":"é™¤äº† Nuxt Bridge çš„è¦æ±‚ä¹‹å¤–ï¼ŒNuxt 3 çš„æ˜¾ç€å’Œ/æˆ–é‡å¤§æ›´æ”¹åŒ…æ‹¬ï¼š"}]},{"type":"text","value":"\n"},{"type":"element","tag":"list","props":{"type":"warning"},"children":[{"type":"element","tag":"prose-ul","props":{},"children":[{"type":"text","value":"\n"},{"type":"element","tag":"prose-li","props":{},"children":[{"type":"text","value":"\n"},{"type":"text","value":"Vue åº”ç”¨ç¨‹åºæ¨¡æ¿è¢«é‡å†™"},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-li","props":{},"children":[{"type":"text","value":"\n"},{"type":"text","value":"Vue å‡çº§ä¸º "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"3.x"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-li","props":{},"children":[{"type":"text","value":"\n"},{"type":"text","value":"ä½¿ç”¨ "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"<Suspense>"}]},{"type":"text","value":" è¿›è¡Œå¼‚æ­¥æ•°æ®è¯»å–"},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-li","props":{},"children":[{"type":"text","value":"\n"},{"type":"text","value":"Webpack "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"5.x"}]},{"type":"text","value":" (å¦‚æœä¸ä½¿ç”¨ "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"vite"}]},{"type":"text","value":")"},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-li","props":{},"children":[{"type":"text","value":"\n"},{"type":"text","value":"é‡æ–°è‡ªåŠ¨è·å–ç»„ä»¶"},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-li","props":{},"children":[{"type":"text","value":"\n"},{"type":"text","value":"å¼•å…¥ä¸»è¦ç»„ä»¶ "},{"type":"element","tag":"prose-a","props":{"href":"/docs/directory-structure/app"},"children":[{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"app.vue"}]}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-li","props":{},"children":[{"type":"text","value":"\n"},{"type":"text","value":"å¼•å…¥æ–°çš„ "},{"type":"element","tag":"prose-a","props":{"href":"/docs/directory-structure/layouts"},"children":[{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"layouts"}]},{"type":"text","value":" ç³»ç»Ÿ"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-li","props":{},"children":[{"type":"text","value":"\n"},{"type":"element","tag":"prose-a","props":{"href":"/docs/directory-structure/pages"},"children":[{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"pages/"}]},{"type":"text","value":" ç›®å½•"}]},{"type":"text","value":" conventions changed"},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"text","value":"ä¸‹é¢çš„è¡¨æ˜¯ä¸€ä¸ªæ•´ä½“ç‰¹å¾æ¯”è¾ƒ:"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-table","props":{},"children":[{"type":"text","value":"\n"},{"type":"element","tag":"prose-thead","props":{},"children":[{"type":"text","value":"\n"},{"type":"element","tag":"prose-tr","props":{},"children":[{"type":"text","value":"\n"},{"type":"element","tag":"prose-th","props":{},"children":[{"type":"text","value":"åŠŸèƒ½ / ç‰ˆæœ¬"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-th","props":{},"children":[{"type":"text","value":"Nuxt 2"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-th","props":{},"children":[{"type":"text","value":"Nuxt 3"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-th","props":{},"children":[{"type":"text","value":"éœ€è¦æ›´æ”¹"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-tbody","props":{},"children":[{"type":"text","value":"\n"},{"type":"element","tag":"prose-tr","props":{},"children":[{"type":"text","value":"\n"},{"type":"element","tag":"prose-td","props":{},"children":[{"type":"text","value":"Vue ç‰ˆæœ¬"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-td","props":{},"children":[{"type":"text","value":"2"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-td","props":{},"children":[{"type":"text","value":"3"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-td","props":{},"children":[{"type":"text","value":"Yes"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-tr","props":{},"children":[{"type":"text","value":"\n"},{"type":"element","tag":"prose-td","props":{},"children":[{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"app.vue"}]}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-td","props":{},"children":[{"type":"text","value":"âŒ"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-td","props":{},"children":[{"type":"text","value":"âœ…"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-td","props":{},"children":[{"type":"text","value":"-"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-tr","props":{},"children":[{"type":"text","value":"\n"},{"type":"element","tag":"prose-td","props":{},"children":[{"type":"text","value":"Assets"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-td","props":{},"children":[{"type":"text","value":"âœ…"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-td","props":{},"children":[{"type":"text","value":"âœ…"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-td","props":{},"children":[{"type":"text","value":"No"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-tr","props":{},"children":[{"type":"text","value":"\n"},{"type":"element","tag":"prose-td","props":{},"children":[{"type":"text","value":"Components"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-td","props":{},"children":[{"type":"text","value":"âœ…"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-td","props":{},"children":[{"type":"text","value":"âœ…"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-td","props":{},"children":[{"type":"text","value":"No"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-tr","props":{},"children":[{"type":"text","value":"\n"},{"type":"element","tag":"prose-td","props":{},"children":[{"type":"text","value":"Layouts"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-td","props":{},"children":[{"type":"text","value":"âœ…"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-td","props":{},"children":[{"type":"text","value":"âœ…"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-td","props":{},"children":[{"type":"text","value":"Yes"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-tr","props":{},"children":[{"type":"text","value":"\n"},{"type":"element","tag":"prose-td","props":{},"children":[{"type":"text","value":"Error Pages"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-td","props":{},"children":[{"type":"text","value":"âœ…"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-td","props":{},"children":[{"type":"text","value":"ğŸš§"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-td","props":{},"children":[{"type":"text","value":"Yes"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-tr","props":{},"children":[{"type":"text","value":"\n"},{"type":"element","tag":"prose-td","props":{},"children":[{"type":"text","value":"Pages"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-td","props":{},"children":[{"type":"text","value":"âœ…"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-td","props":{},"children":[{"type":"text","value":"âœ…"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-td","props":{},"children":[{"type":"text","value":"Yes"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-tr","props":{},"children":[{"type":"text","value":"\n"},{"type":"element","tag":"prose-td","props":{},"children":[{"type":"text","value":"Pages: Dynamic Params"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-td","props":{},"children":[{"type":"text","value":"âœ…"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-td","props":{},"children":[{"type":"text","value":"âœ…"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-td","props":{},"children":[{"type":"text","value":"Yes"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-tr","props":{},"children":[{"type":"text","value":"\n"},{"type":"element","tag":"prose-td","props":{},"children":[{"type":"text","value":"Pages: _.vue"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-td","props":{},"children":[{"type":"text","value":"âœ…"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-td","props":{},"children":[{"type":"text","value":"âœ…"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-td","props":{},"children":[{"type":"text","value":"No"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-tr","props":{},"children":[{"type":"text","value":"\n"},{"type":"element","tag":"prose-td","props":{},"children":[{"type":"text","value":"Plugins"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-td","props":{},"children":[{"type":"text","value":"âœ…"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-td","props":{},"children":[{"type":"text","value":"âœ…"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-td","props":{},"children":[{"type":"text","value":"Yes (compatible by default)"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-tr","props":{},"children":[{"type":"text","value":"\n"},{"type":"element","tag":"prose-td","props":{},"children":[{"type":"text","value":"Store"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-td","props":{},"children":[{"type":"text","value":"âœ…"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-td","props":{},"children":[{"type":"text","value":"ğŸš§"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-td","props":{},"children":[{"type":"text","value":"Yes"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-tr","props":{},"children":[{"type":"text","value":"\n"},{"type":"element","tag":"prose-td","props":{},"children":[{"type":"text","value":"Transitions"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-td","props":{},"children":[{"type":"text","value":"âœ…"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-td","props":{},"children":[{"type":"text","value":"ğŸš§"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-td","props":{},"children":[{"type":"text","value":"?"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-tr","props":{},"children":[{"type":"text","value":"\n"},{"type":"element","tag":"prose-td","props":{},"children":[{"type":"text","value":"Suspense"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-td","props":{},"children":[{"type":"text","value":"âŒ"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-td","props":{},"children":[{"type":"text","value":"âœ…"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-td","props":{},"children":[{"type":"text","value":"-"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-tr","props":{},"children":[{"type":"text","value":"\n"},{"type":"element","tag":"prose-td","props":{},"children":[{"type":"text","value":"Options API: "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"asyncData"}]}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-td","props":{},"children":[{"type":"text","value":"âœ…"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-td","props":{},"children":[{"type":"text","value":"ğŸš§"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-td","props":{},"children":[{"type":"text","value":"?"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-tr","props":{},"children":[{"type":"text","value":"\n"},{"type":"element","tag":"prose-td","props":{},"children":[{"type":"text","value":"Options API: "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"fetch"}]}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-td","props":{},"children":[{"type":"text","value":"âœ…"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-td","props":{},"children":[{"type":"text","value":"ğŸš§"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-td","props":{},"children":[{"type":"text","value":"?"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-h3","props":{"id":"æ¨¡å—å…¼å®¹æ€§"},"children":[{"type":"element","tag":"prose-a","props":{"href":"#%E6%A8%A1%E5%9D%97%E5%85%BC%E5%AE%B9%E6%80%A7"},"children":[{"type":"text","value":"æ¨¡å—å…¼å®¹æ€§"}]}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"text","value":"All Nuxt 2 modules should be forward compatible with Nuxt 3 as long as they migrate to bridge or if they are already following guidelines."}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"text","value":"All (upcoming) modules made with "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"@nuxt/kit"}]},{"type":"text","value":" should be backward compatible with Nuxt 2 projects (even without bridge) as long as they are not depending on a Nuxt 3 / Bridge-only feature."}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-h3","props":{"id":"æ’ä»¶å…¼å®¹æ€§"},"children":[{"type":"element","tag":"prose-a","props":{"href":"#%E6%8F%92%E4%BB%B6%E5%85%BC%E5%AE%B9%E6%80%A7"},"children":[{"type":"text","value":"æ’ä»¶å…¼å®¹æ€§"}]}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"text","value":"Most Nuxt 2 plugins should be forward compatible with Nuxt 3 with a magical compat layer we inject."}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"text","value":"Nuxt 3 plugins are "},{"type":"element","tag":"prose-strong","props":{},"children":[{"type":"text","value":"not"}]},{"type":"text","value":" backward compatible with Nuxt 2."}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-h3","props":{"id":"vue-å…¼å®¹æ€§"},"children":[{"type":"element","tag":"prose-a","props":{"href":"#vue-%E5%85%BC%E5%AE%B9%E6%80%A7"},"children":[{"type":"text","value":"Vue å…¼å®¹æ€§"}]}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"text","value":"å¯¹äºä½¿ç”¨ç»„åˆ composition API or components, it needs exclusive Vue 2 or Vue 3 support."}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"text","value":"By using "},{"type":"element","tag":"prose-a","props":{"href":"https://github.com/vueuse/vue-demi","rel":["nofollow","noopener","noreferrer"],"target":"_blank"},"children":[{"type":"text","value":"vue-demi"}]},{"type":"text","value":" they should be compatible with both Nuxt 2 and 3."}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-h2","props":{"id":"module-migration"},"children":[{"type":"element","tag":"prose-a","props":{"href":"#module-migration"},"children":[{"type":"text","value":"Module Migration"}]}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"text","value":"When Nuxt 3 users add your module, a compatible module container layer from "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"@nuxt/kit"}]},{"type":"text","value":" is "},{"type":"element","tag":"prose-strong","props":{},"children":[{"type":"text","value":"automatically injected"}]},{"type":"text","value":", so as long as your code is following the guidelines below, it should continue working as-is."}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-h3","props":{"id":"test-with-nuxtbridge"},"children":[{"type":"element","tag":"prose-a","props":{"href":"#test-with-nuxtbridge"},"children":[{"type":"text","value":"Test with "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"@nuxt/bridge"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"text","value":"Migrating to "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"@nuxt/bridge"}]},{"type":"text","value":" is the first and most important step for supporting Nuxt 3."}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"text","value":"If you have a fixture or example in your module, add "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"@nuxt/bridge"}]},{"type":"text","value":" package to its config (see "},{"type":"element","tag":"prose-a","props":{"href":"/getting-started/bridge#update-nuxtconfig"},"children":[{"type":"text","value":"example"}]},{"type":"text","value":")"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-h3","props":{"id":"avoid-commonjs-syntax"},"children":[{"type":"element","tag":"prose-a","props":{"href":"#avoid-commonjs-syntax"},"children":[{"type":"text","value":"Avoid CommonJS syntax"}]}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"text","value":"Nuxt 3 natively supports TypeScript and ECMAScript Modules."}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-h4","props":{"id":"update-the-imports"},"children":[{"type":"element","tag":"prose-a","props":{"href":"#update-the-imports"},"children":[{"type":"text","value":"Update the imports"}]}]},{"type":"text","value":"\n"},{"type":"element","tag":"code-group","props":{},"children":[{"type":"element","tag":"prose-code","props":{},"children":[{"type":"element","tag":"span","props":{"className":["filename"]},"children":[{"type":"text","value":"Before"}]},{"type":"element","tag":"pre","props":{"className":["language-js","line-numbers"]},"children":[{"type":"element","tag":"code","props":{},"children":[{"type":"element","tag":"span","props":{"className":["token","keyword"]},"children":[{"type":"text","value":"const"}]},{"type":"text","value":" lib "},{"type":"element","tag":"span","props":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","function"]},"children":[{"type":"text","value":"require"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"className":["token","string"]},"children":[{"type":"text","value":"'lib'"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":"\n"}]}]}]},{"type":"element","tag":"prose-code","props":{},"children":[{"type":"element","tag":"span","props":{"className":["filename"]},"children":[{"type":"text","value":"After"}]},{"type":"element","tag":"pre","props":{"className":["language-js","line-numbers"]},"children":[{"type":"element","tag":"code","props":{},"children":[{"type":"element","tag":"span","props":{"className":["token","keyword","module"]},"children":[{"type":"text","value":"import"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","imports"]},"children":[{"type":"text","value":"lib"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","keyword","module"]},"children":[{"type":"text","value":"from"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","string"]},"children":[{"type":"text","value":"'lib'"}]},{"type":"text","value":"\n"},{"type":"element","tag":"span","props":{"className":["token","comment"]},"children":[{"type":"text","value":"// or using code-splitting"}]},{"type":"text","value":"\n"},{"type":"element","tag":"span","props":{"className":["token","keyword"]},"children":[{"type":"text","value":"const"}]},{"type":"text","value":" lib "},{"type":"element","tag":"span","props":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","keyword","control-flow"]},"children":[{"type":"text","value":"await"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","keyword","module"]},"children":[{"type":"text","value":"import"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"className":["token","string"]},"children":[{"type":"text","value":"'lib'"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"className":["token","method","function","property-access"]},"children":[{"type":"text","value":"then"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"className":["token","parameter"]},"children":[{"type":"text","value":"e"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","arrow","operator"]},"children":[{"type":"text","value":"=>"}]},{"type":"text","value":" e"},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"className":["token","keyword","module"]},"children":[{"type":"text","value":"default"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","operator"]},"children":[{"type":"text","value":"||"}]},{"type":"text","value":" e"},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":"\n"}]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-h4","props":{"id":"update-the-exports"},"children":[{"type":"element","tag":"prose-a","props":{"href":"#update-the-exports"},"children":[{"type":"text","value":"Update the exports"}]}]},{"type":"text","value":"\n"},{"type":"element","tag":"code-group","props":{},"children":[{"type":"element","tag":"prose-code","props":{},"children":[{"type":"element","tag":"span","props":{"className":["filename"]},"children":[{"type":"text","value":"Before"}]},{"type":"element","tag":"pre","props":{"className":["language-js","line-numbers"]},"children":[{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"module"},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"className":["token","property-access"]},"children":[{"type":"text","value":"exports"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","spread","operator"]},"children":[{"type":"text","value":"..."}]},{"type":"text","value":"\n"}]}]}]},{"type":"element","tag":"prose-code","props":{},"children":[{"type":"element","tag":"span","props":{"className":["filename"]},"children":[{"type":"text","value":"After"}]},{"type":"element","tag":"pre","props":{"className":["language-js","line-numbers"]},"children":[{"type":"element","tag":"code","props":{},"children":[{"type":"element","tag":"span","props":{"className":["token","keyword","module"]},"children":[{"type":"text","value":"export"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","keyword","module"]},"children":[{"type":"text","value":"default"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","spread","operator"]},"children":[{"type":"text","value":"..."}]},{"type":"text","value":"\n"},{"type":"element","tag":"span","props":{"className":["token","comment"]},"children":[{"type":"text","value":"// or using named export"}]},{"type":"text","value":"\n"},{"type":"element","tag":"span","props":{"className":["token","keyword","module"]},"children":[{"type":"text","value":"export"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","keyword"]},"children":[{"type":"text","value":"const"}]},{"type":"text","value":" hello "},{"type":"element","tag":"span","props":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","spread","operator"]},"children":[{"type":"text","value":"..."}]},{"type":"text","value":"\n"}]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-h4","props":{"id":"avoid-using-specific-cjs-syntax"},"children":[{"type":"element","tag":"prose-a","props":{"href":"#avoid-using-specific-cjs-syntax"},"children":[{"type":"text","value":"Avoid using specific CJS syntax"}]}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"text","value":"Avoid the usage of "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"__dirname"}]},{"type":"text","value":" and "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"__filename"}]},{"type":"text","value":" as much as possible."}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-h3","props":{"id":"ensure-plugins-default-export"},"children":[{"type":"element","tag":"prose-a","props":{"href":"#ensure-plugins-default-export"},"children":[{"type":"text","value":"Ensure plugins default export"}]}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"text","value":"If you inject a Nuxt plugin that does not have "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"export default"}]},{"type":"text","value":" (such as global Vue plugins), ensure you add "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"export default {}"}]},{"type":"text","value":" to the end of it."}]},{"type":"text","value":"\n"},{"type":"element","tag":"code-group","props":{},"children":[{"type":"element","tag":"prose-code","props":{},"children":[{"type":"element","tag":"span","props":{"className":["filename"]},"children":[{"type":"text","value":"Before"}]},{"type":"element","tag":"pre","props":{"className":["language-js","line-numbers"]},"children":[{"type":"element","tag":"code","props":{},"children":[{"type":"element","tag":"span","props":{"className":["token","comment"]},"children":[{"type":"text","value":"// ~/plugins/vuelidate.js"}]},{"type":"text","value":"\n"},{"type":"element","tag":"span","props":{"className":["token","keyword","module"]},"children":[{"type":"text","value":"import"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","imports"]},"children":[{"type":"element","tag":"span","props":{"className":["token","maybe-class-name"]},"children":[{"type":"text","value":"Vue"}]}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","keyword","module"]},"children":[{"type":"text","value":"from"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","string"]},"children":[{"type":"text","value":"'vue'"}]},{"type":"text","value":"\n"},{"type":"element","tag":"span","props":{"className":["token","keyword","module"]},"children":[{"type":"text","value":"import"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","imports"]},"children":[{"type":"element","tag":"span","props":{"className":["token","maybe-class-name"]},"children":[{"type":"text","value":"Vuelidate"}]}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","keyword","module"]},"children":[{"type":"text","value":"from"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","string"]},"children":[{"type":"text","value":"'vuelidate'"}]},{"type":"text","value":"\n\n"},{"type":"element","tag":"span","props":{"className":["token","maybe-class-name"]},"children":[{"type":"text","value":"Vue"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"className":["token","method","function","property-access"]},"children":[{"type":"text","value":"use"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"className":["token","maybe-class-name"]},"children":[{"type":"text","value":"Vuelidate"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":"\n"}]}]}]},{"type":"element","tag":"prose-code","props":{},"children":[{"type":"element","tag":"span","props":{"className":["filename"]},"children":[{"type":"text","value":"After"}]},{"type":"element","tag":"pre","props":{"className":["language-js","line-numbers"]},"children":[{"type":"element","tag":"code","props":{},"children":[{"type":"element","tag":"span","props":{"className":["token","comment"]},"children":[{"type":"text","value":"// ~/plugins/vuelidate.js"}]},{"type":"text","value":"\n"},{"type":"element","tag":"span","props":{"className":["token","keyword","module"]},"children":[{"type":"text","value":"import"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","imports"]},"children":[{"type":"element","tag":"span","props":{"className":["token","maybe-class-name"]},"children":[{"type":"text","value":"Vue"}]}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","keyword","module"]},"children":[{"type":"text","value":"from"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","string"]},"children":[{"type":"text","value":"'vue'"}]},{"type":"text","value":"\n"},{"type":"element","tag":"span","props":{"className":["token","keyword","module"]},"children":[{"type":"text","value":"import"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","imports"]},"children":[{"type":"element","tag":"span","props":{"className":["token","maybe-class-name"]},"children":[{"type":"text","value":"Vuelidate"}]}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","keyword","module"]},"children":[{"type":"text","value":"from"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","string"]},"children":[{"type":"text","value":"'vuelidate'"}]},{"type":"text","value":"\n\n"},{"type":"element","tag":"span","props":{"className":["token","maybe-class-name"]},"children":[{"type":"text","value":"Vue"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"className":["token","method","function","property-access"]},"children":[{"type":"text","value":"use"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"className":["token","maybe-class-name"]},"children":[{"type":"text","value":"Vuelidate"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":"\n\n"},{"type":"element","tag":"span","props":{"className":["token","keyword","module"]},"children":[{"type":"text","value":"export"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","keyword","module"]},"children":[{"type":"text","value":"default"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"text","value":"\n"}]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-h3","props":{"id":"avoid-runtime-modules"},"children":[{"type":"element","tag":"prose-a","props":{"href":"#avoid-runtime-modules"},"children":[{"type":"text","value":"Avoid runtime modules"}]}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"text","value":"With Nuxt 3, Nuxt is now a build-time-only dependency, which means that modules shouldn't attempt to hook into the Nuxt runtime."}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"text","value":"Your module needs should work even if it's only added to "},{"type":"element","tag":"prose-a","props":{"href":"/docs/directory-structure/nuxt.config#buildmodules"},"children":[{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"buildModules"}]}]},{"type":"text","value":" (instead of "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"modules"}]},{"type":"text","value":"). For example:"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-ul","props":{},"children":[{"type":"text","value":"\n"},{"type":"element","tag":"prose-li","props":{},"children":[{"type":"text","value":"\n"},{"type":"text","value":"Avoid updating "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"process.env"}]},{"type":"text","value":" within a Nuxt module and reading by a nuxt plugin; use "},{"type":"element","tag":"prose-a","props":{"href":"/docs/directory-structure/nuxt.config#publicruntimeconfig"},"children":[{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"runtimeConfig"}]}]},{"type":"text","value":" instead."},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-li","props":{},"children":[{"type":"text","value":"\n"},{"type":"text","value":"(*) Avoid depending on runtime hooks like "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"vue-renderer:*"}]},{"type":"text","value":" for production"},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-li","props":{},"children":[{"type":"text","value":"\n"},{"type":"text","value":"(*) Avoid adding "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"serverMiddleware"}]},{"type":"text","value":" by importing them inside module. Instead, add them by referencing a file path so that they are independent of module context"},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"text","value":"(*) Unless it is for "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"nuxt dev"}]},{"type":"text","value":" purpose only and guarded with "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":"if (nuxt.options.dev) { }"}]},{"type":"text","value":"."}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-h3","props":{"id":"add-module-meta"},"children":[{"type":"element","tag":"prose-a","props":{"href":"#add-module-meta"},"children":[{"type":"text","value":"Add module meta"}]}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"text","value":"Ensure your module is exporting meta object."}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"text","value":"[TODO]"}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-h3","props":{"id":"use-typescript-optional"},"children":[{"type":"element","tag":"prose-a","props":{"href":"#use-typescript-optional"},"children":[{"type":"text","value":"Use TypeScript (optional)"}]}]},{"type":"text","value":"\n"},{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"text","value":"While it is not essential, most of the Nuxt ecosystem is shifting to use TypeScript, so it is highly recommended to consider migration."}]},{"type":"text","value":"\n"},{"type":"element","tag":"alert","props":{"icon":"ğŸ’¡"},"children":[{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"text","value":"You can start migration by simply renaming "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":".js"}]},{"type":"text","value":" files, to "},{"type":"element","tag":"prose-code-inline","props":{},"children":[{"type":"text","value":".ts"}]},{"type":"text","value":". TypeScript is designed to be progressive!"}]}]},{"type":"text","value":"\n"},{"type":"element","tag":"alert","props":{"icon":"ğŸ’¡"},"children":[{"type":"element","tag":"prose-paragraph","props":{},"children":[{"type":"text","value":"You can use TypeScript syntax for Nuxt 2 and 3 modules and plugins without any extra dependencies."}]}]}]},"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"nuxt-2-to-nuxt-3","depth":2,"text":"Nuxt 2 to Nuxt 3","children":[{"id":"æ¨¡å—å…¼å®¹æ€§","depth":3,"text":"æ¨¡å—å…¼å®¹æ€§"},{"id":"æ’ä»¶å…¼å®¹æ€§","depth":3,"text":"æ’ä»¶å…¼å®¹æ€§"},{"id":"vue-å…¼å®¹æ€§","depth":3,"text":"Vue å…¼å®¹æ€§"}]},{"id":"module-migration","depth":2,"text":"Module Migration","children":[{"id":"test-with-nuxtbridge","depth":3,"text":"Test with @nuxt/bridge"},{"id":"avoid-commonjs-syntax","depth":3,"text":"Avoid CommonJS syntax"},{"id":"ensure-plugins-default-export","depth":3,"text":"Ensure plugins default export"},{"id":"avoid-runtime-modules","depth":3,"text":"Avoid runtime modules"},{"id":"add-module-meta","depth":3,"text":"Add module meta"},{"id":"use-typescript-optional","depth":3,"text":"Use TypeScript (optional)"}]}]}}}